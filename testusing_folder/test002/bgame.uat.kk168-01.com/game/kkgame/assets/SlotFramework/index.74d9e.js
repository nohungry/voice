window.__require=function t(e,o,n){function i(s,a){if(!o[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(r)return r(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return i(e[s][1][t]||t)},p,p.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({BasePopupManager:[function(t,e,o){"use strict";cc._RF.push(e,"19881ROiM9MZp6MJA6nfpOY","BasePopupManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.BasePopupManager=void 0;var s=t("../../../Common/Tools/Base/Singleton"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(s.default));o.BasePopupManager=l,cc._RF.pop()},{"../../../Common/Tools/Base/Singleton":void 0}],ConfirmDialogBox:[function(t,e,o){"use strict";cc._RF.push(e,"4c9c33ipG1KMZ8CzfUFMxc5","ConfirmDialogBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.ConfirmDialogBox=void 0;var s=t("../../../../Common/Tools/DynamicPopUp/DialogBox/BaseConfirmDialogBox"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popup=null,e.confirmApply=null,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.view.on("design-resolution-changed",this.updateDialogBox,this)},e.prototype.onDestroy=function(){cc.view.off("design-resolution-changed",this.updateDialogBox,this)},e.prototype.updateDialogBox=function(){this.blockLayer.width=cc.winSize.width,this.blockLayer.height=cc.winSize.height,this.node.x=.5*this.blockLayer.width,this.node.y=.5*this.blockLayer.height},e.prototype.showBlockLayer=function(){this.updateDialogBox(),t.prototype.showBlockLayer.call(this)},e.prototype.show=function(e,n,i){void 0===n&&(n=null),void 0===i&&(i=cc.macro.TextAlignment.CENTER),this.popup&&cc.audioEngine.playEffect(this.popup,!1),t.prototype.show.call(this,e,n,i),o.isShow=!0},e.prototype.hide=function(){t.prototype.hide.call(this),o.isShow=!1},e.prototype.onClickConfirmBtn=function(){this.confirmApply&&cc.audioEngine.playEffect(this.confirmApply,!1),t.prototype.onClickConfirmBtn.call(this)},e.isShow=!1,r([l({type:cc.AudioClip,displayName:"ef_popup"})],e.prototype,"popup",void 0),r([l({type:cc.AudioClip,displayName:"ef_confirm_apply"})],e.prototype,"confirmApply",void 0),o=r([c,p("SlotFramework/DialogBox/ConfirmDialogBox")],e)}(s.default);o.ConfirmDialogBox=u,cc._RF.pop()},{"../../../../Common/Tools/DynamicPopUp/DialogBox/BaseConfirmDialogBox":void 0}],Slot_AutoGamePanel:[function(t,e,o){"use strict";cc._RF.push(e,"1a3c3V0YtdFBZUbkxaJHFzv","Slot_AutoGamePanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SPIN_COUNT=void 0;var s,a,c=t("../../../Common/Tools/AudioManager/AudioManager"),l=t("../../../Common/Tools/Localization/LocalizationManager"),p=cc._decorator,u=p.ccclass,d=p.property;(function(t){t[t.TEN=10]="TEN",t[t.TWENTY=20]="TWENTY",t[t.FIFTY=50]="FIFTY",t[t.ONE_HUNDRED=100]="ONE_HUNDRED",t[t.UNLIMITED=-1]="UNLIMITED"})(s=o.SPIN_COUNT||(o.SPIN_COUNT={})),function(t){t[t.TEN=0]="TEN",t[t.TWENTY=1]="TWENTY",t[t.FIFTY=2]="FIFTY",t[t.ONE_HUNDRED=3]="ONE_HUNDRED",t[t.UNLIMITED=4]="UNLIMITED"}(a||(a={}));var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasScore=null,e.betScore=null,e.scoreLessStopLabel=null,e.scoreLessStopSlider=null,e.scoreLessStopProgressBar=null,e.winScoreStopLabel=null,e.winScoreStopSlider=null,e.winScoreStopProgressBar=null,e.spinCountToggles=[],e.spinCountLocks=[],e.notEnoughMoneyTip=null,e.data=null,e.moneyLessStopSpacing=[],e.winMoneyStopSpacing=[],e}return i(e,t),e.prototype.init=function(){this.setWinMoneyStopSpacing(),this.setMoneyLessStopSpacing(),this.notEnoughMoneyTip.active=!1,this.node.active=!1},e.prototype.changeScoreLessStopProgressBar=function(t){this.scoreLessStopProgressBar.progress=t.progress},e.prototype.changeWinScoreStopProgressBar=function(t){this.winScoreStopProgressBar.progress=t.progress},e.prototype.changeScoreLessStopLabel=function(t){var e=Math.round(51*t.progress),o=0;if(0==e)this.scoreLessStopLabel.string=l.default.getInstance().get("TEXT_NO");else{if(this.spinCountToggles[a.UNLIMITED].isChecked){var n=this.data.coin;e=Math.round(50*t.progress),o=n*(this.moneyLessStopSpacing[e]+1)/50}else{var i=this.data.getClientMoney(this.data.betOdds[this.data.betOddsStartIndex]*this.data.oneOddsScore);o=i*this.data.autoGameSpinCount/2+this.data.autoGameSpinCount*i*this.moneyLessStopSpacing[e]*.01}o=Number(o.toFixed(2)),this.scoreLessStopLabel.string=o.toString()}this.data.autoGameScoreLessStop=o},e.prototype.changeWinScoreStopLabel=function(t){var e=Math.round(50*t.progress),o=this.data.getClientMoney(this.data.betOdds[this.data.betOddsStartIndex]*this.data.oneOddsScore);o*=this.winMoneyStopSpacing[e],this.winScoreStopLabel.string=0==e?l.default.getInstance().get("TEXT_NO"):o.toString(),this.data.autoGameWinScoreStop=o},e.prototype.onChangeSpinCountBtn=function(t,e){c.AudioManager.instance.playAudioEvent("ChangeSpinCountClick"),this.changeSpinCount(e)},e.prototype.setWinMoneyStopSpacing=function(){var t=0;this.winMoneyStopSpacing[t++]=0;for(var e=10;e<=500;e+=10)this.winMoneyStopSpacing[t++]=e},e.prototype.setMoneyLessStopSpacing=function(){for(var t=0;t<=51;t++)this.moneyLessStopSpacing[t]=t-1},e.prototype.getCanSpinCount=function(){var t=this.data.coin/this.data.getClientMoney(this.data.betOdds[this.data.betOddsStartIndex]*this.data.oneOddsScore);return Math.floor(t)},e.prototype.setSpinCountLock=function(){for(var t=0;t<this.spinCountLocks.length;t++){var e=this.getCanSpinCount(),o=s[a[t]];this.spinCountLocks[t].active=e<o}},e.prototype.initSpinCountToogle=function(){this.getCanSpinCount()>=10?(this.spinCountToggles[a.TEN].isChecked=!0,this.changeSpinCount(10)):(this.spinCountToggles[a.UNLIMITED].isChecked=!0,this.changeSpinCount(-1))},e.prototype.setHasMoney=function(){this.hasScore.string=this.data.coin.toString()},e.prototype.setBetMoney=function(){var t=this.data.getClientMoney(this.data.betOdds[this.data.betOddsStartIndex]*this.data.oneOddsScore);this.betScore.string=t.toString()},e.prototype.resetSlider=function(){this.winScoreStopSlider.progress=0,this.scoreLessStopSlider.progress=0,this.scoreLessStopSlider.slideEvents[0].emit([this.scoreLessStopSlider]),this.scoreLessStopSlider.slideEvents[1].emit([this.scoreLessStopSlider]),this.winScoreStopSlider.slideEvents[0].emit([this.winScoreStopSlider]),this.winScoreStopSlider.slideEvents[1].emit([this.winScoreStopSlider])},e.prototype.changeSpinCount=function(t){this.data.autoGameSpinCount=t,this.scoreLessStopSlider.slideEvents[0].emit([this.scoreLessStopSlider]),this.scoreLessStopSlider.slideEvents[1].emit([this.scoreLessStopSlider]),this.winScoreStopSlider.slideEvents[0].emit([this.winScoreStopSlider]),this.winScoreStopSlider.slideEvents[1].emit([this.winScoreStopSlider])},e.prototype.open=function(){this.node.active=!0,this.node.position=cc.Vec3.ZERO,this.initSpinCountToogle(),this.setSpinCountLock(),this.setHasMoney(),this.setBetMoney(),this.resetSlider()},e.prototype.close=function(){cc.log("\u958b\u555f\u81ea\u52d5\u904a\u6232\u9762\u677f"),c.AudioManager.instance.playAudioEvent("CloseMenu"),this.node.active=!1},r([d(cc.Label)],e.prototype,"hasScore",void 0),r([d(cc.Label)],e.prototype,"betScore",void 0),r([d(cc.Label)],e.prototype,"scoreLessStopLabel",void 0),r([d(cc.Slider)],e.prototype,"scoreLessStopSlider",void 0),r([d(cc.ProgressBar)],e.prototype,"scoreLessStopProgressBar",void 0),r([d(cc.Label)],e.prototype,"winScoreStopLabel",void 0),r([d(cc.Slider)],e.prototype,"winScoreStopSlider",void 0),r([d(cc.ProgressBar)],e.prototype,"winScoreStopProgressBar",void 0),r([d([cc.Toggle])],e.prototype,"spinCountToggles",void 0),r([d([cc.Node])],e.prototype,"spinCountLocks",void 0),r([d(cc.Node)],e.prototype,"notEnoughMoneyTip",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../../../Common/Tools/AudioManager/AudioManager":void 0,"../../../Common/Tools/Localization/LocalizationManager":void 0}],Slot_DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"c5535TFMxRKX4M9PdgegrCX","Slot_DataManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SYMBOL_NAME=void 0;var s=t("../Common/Tools/AudioManager/AudioManager"),a=t("../Common/Tools/Base/BaseDataManager"),c=cc._decorator,l=c.ccclass;c.property,function(t){t[t.H1=1]="H1",t[t.H2=2]="H2",t[t.H3=3]="H3",t[t.H4=4]="H4",t[t.H5=5]="H5",t[t.N1=11]="N1",t[t.N2=12]="N2",t[t.N3=13]="N3",t[t.N4=14]="N4",t[t.N5=15]="N5",t[t.N6=16]="N6",t[t.Scatter=20]="Scatter",t[t.EMPTY=21]="EMPTY",t[t.COLLECT=30]="COLLECT",t[t.Wild=50]="Wild",t[t.LongWild=100]="LongWild",t[t.BAR=109]="BAR",t[t.FRUIT=119]="FRUIT"}(o.SYMBOL_NAME||(o.SYMBOL_NAME={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isFaseSpin=!1,e.isAutoSpin=!1,e.betOddsStartIndex=0,e.betOdds=[],e.oneOddsScore=5e3,e.remainingFreeGameCount=0,e.autoGameSpinCount=0,e.autoGameWinScoreStop=0,e.autoGameScoreLessStop=0,e.autoGameStartScore=0,e.camera=null,e.texture=null,e._canvas=null,e.playerBetScore=0,e.totalBonus=0,e.reelStartIndex=[],e.reelTable_BG=[],e.reelTable_FG=[],e.magnificationTable={},e}var o;return i(e,t),o=e,e.prototype.init=function(){t.prototype.init.call(this),this.isAutoSpin=!1,this.isFaseSpin=!1,s.AudioManager.instance.init()},e.prototype.screenshotInit=function(t){var e=new cc.RenderTexture,o=cc.game._renderContext;e.initWithSize(t.width,t.height,o.STENCIL_INDEX8),this.camera=t.addComponent(cc.Camera),this.camera.targetTexture=e,this.texture=e},e.prototype.saveBetIndex=function(t){var e=this.nickname+this.gameID.toString();cc.sys.localStorage.setItem(e,t)},e.prototype.getBetIndex=function(){var t=this.nickname+this.gameID.toString(),e=cc.sys.localStorage.getItem(t);return 0==cc.isValid(e)&&(e=3),e},e.prototype.initImage=function(){var t=this._canvas.toDataURL("image/png"),e=document.createElement("img");return e.src=t,e},e.prototype.createSprite=function(){var t=this.texture.width,e=this.texture.height;this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=t,this._canvas.height=e);var o=this._canvas.getContext("2d");this.camera.render();for(var n=this.texture.readPixels(),i=4*t,r=0;r<e;r++){for(var s=e-1-r,a=o.createImageData(t,1),c=s*t*4,l=0;l<i;l++)a.data[l]=n[c+l];o.putImageData(a,0,r)}return this._canvas},e.prototype.downloadImg=function(){this.createSprite();var t=this.initImage();o.screenshotImg=t},e.prototype.showSprite=function(t){var e=new cc.Texture2D;e.initWithElement(o.screenshotImg);var n=new cc.SpriteFrame;n.setTexture(e);var i=new cc.Node;i.addComponent(cc.Sprite).spriteFrame=n,i.parent=t},e.prototype.clearCanvas=function(){this._canvas.getContext("2d").clearRect(0,0,this._canvas.width,this._canvas.height)},e.prototype.setLoginData=function(e){t.prototype.setLoginData.call(this,e),this.coin=this.getClientMoney(e.balance)},e.screenshotImg=null,e.LOADING_UI_NODE=null,o=r([l],e)}(a.default);o.default=p,cc._RF.pop()},{"../Common/Tools/AudioManager/AudioManager":void 0,"../Common/Tools/Base/BaseDataManager":void 0}],Slot_DynamicPopUpManager:[function(t,e,o){"use strict";cc._RF.push(e,"4daadt2W71AE6BJQoI5FeXg","Slot_DynamicPopUpManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.prestore=function(e){for(var o=0,n=e;o<n.length;o++){var i=n[o];i.name,t.prototype.prestore.call(this,[i])}},e}(t("../../../Common/Tools/Base/BaseDynamicPopUpManager").default);o.default=r,cc._RF.pop()},{"../../../Common/Tools/Base/BaseDynamicPopUpManager":void 0}],Slot_FreeGameGetScorePanel:[function(t,e,o){"use strict";cc._RF.push(e,"ca760pRr6NMeaUsyidWOQsr","Slot_FreeGameGetScorePanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGameGetScore=null,e}return i(e,t),e.prototype.init=function(){this.node.active=!1},e.prototype.start=function(){},e.prototype.open=function(t){this.fadeIn(),this.node.setPosition(cc.Vec2.ZERO),this.freeGameGetScore.string=t.toFixed(2)},e.prototype.close=function(){return this.fadeOut()},e.prototype.fadeIn=function(){this.node.active=!0,this.node.opacity=255},e.prototype.fadeOut=function(){var t=this;return new Promise(function(e){cc.tween(t.node).to(.5,{opacity:0},{easing:"cubicInOut"}).call(function(){t.node.active=!1,e()}).start()})},r([c(cc.Label)],e.prototype,"freeGameGetScore",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Slot_FreeGamePanel:[function(t,e,o){"use strict";cc._RF.push(e,"41a9e0Y7hBPSLZIPaFdMXpa","Slot_FreeGamePanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.freeGameCount=null,e}return i(e,t),e.prototype.init=function(){this.node.active=!1},e.prototype.start=function(){},e.prototype.open=function(t){this.openAnimation(),this.node.setPosition(cc.Vec2.ZERO),cc.isValid(this.freeGameCount)&&(this.freeGameCount.string=t.toString())},e.prototype.close=function(){return this.closeAnimation()},e.prototype.openAnimation=function(){this.node.active=!0,this.node.opacity=255},e.prototype.closeAnimation=function(){var t=this;return new Promise(function(e){cc.tween(t.node).to(.5,{opacity:0},{easing:"cubicInOut"}).call(function(){t.node.active=!1,e()}).start()})},r([c(cc.Label)],e.prototype,"freeGameCount",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],Slot_GameManager_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"3f44cgy6hxIlZv/cUPlRl90","Slot_GameManager_InitData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.bundlePath=""}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"823920RsGhDS5VxHIGOO767","Slot_GameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{c(n.next(t))}catch(e){r(e)}}function a(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Common/Tools/ErudaLog/ErudaLog"),l=t("./view/Slot_ReelManager"),p=t("../../Common/Optional/Jacky/Ex/WebEx"),u=t("./view/Slot_GameUI"),d=t("../Slot_DataManager"),h=t("../../Common/Tools/AudioManager/AudioManager"),f=t("./Panel/Slot_AutoGamePanel"),y=t("../Common/DynamicPopUp/DialogBox/ConfirmDialogBox"),m=t("../../Common/Tools/Localization/LocalizationManager"),S=t("../../Common/Tools/Base/BaseDataManager"),g=t("../../Common/Tools/SceneManager/SceneManager"),b=t("../../Common/Tools/MultipleGame/OnlineListManager"),v=cc._decorator,_=v.ccclass,O=v.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ui=null,e.slotReelManager=null,e.winEffectOdds=50,e.data=null,e.socket=null,e.popup=null,e.autoSpinCount=0,e.resultListIndex=0,e.freeGameOddsIndex=0,e.tempWaitTime=0,e.bubbleSound=null,e.reelScrollingStartSound=[],e.tempSpinFinishedStopTime=0,e.tempSpinCD=0,e.toFastStopSpin=!1,e.baseGameLastSymbol=[],e.newMoney=0,e.isChangeMoney=!1,e.isNextSkipDropOut=!1,e.competitionStartFontSize1=25,e.competitionStartFontColor1="#FFFFFF",e.competitionStartFontSize2=30,e.competitionStartFontColor2="FFC000",e.competitionFontLineHeight=30,e.lobbyGameId=10001,e.backBtnActive=!1,e}return i(e,t),e.prototype.start=function(){this.closeLoadingItem(),this.ui.setBackBtnState(this.backBtnActive)},e.prototype.onEnable=function(){cc.systemEvent.on("ShowSymbolTipEvent",this.showSymbolTip,this),cc.systemEvent.on("ON_START_GAME_COMPETITION",this.onStartGameCompetition,this),cc.systemEvent.on("ON_FORCE_CLOSE_COMPEITION",this.onForceCloseCompetition,this)},e.prototype.onDisable=function(){cc.systemEvent.off("ShowSymbolTipEvent",this.showSymbolTip,this),cc.systemEvent.off("ON_START_GAME_COMPETITION",this.onStartGameCompetition,this),cc.systemEvent.off("ON_FORCE_CLOSE_COMPEITION",this.onForceCloseCompetition,this)},e.prototype.init=function(){},e.prototype.OnCopyVersion=function(){p.WebEx.copyToClipboard(this.ui.getVersion())},e.prototype.showSymbolTip=function(t,e){this.ui.showSymbolTip(t,e)},e.prototype.onOpenMenu=function(){cc.log("\u9078\u55ae\u958b\u555f"),h.AudioManager.instance.playAudioEvent("OpenMenu"),this.ui.menuButtonSwitch(!1),this.ui.buttonGroupSwitch(!1),this.ui.openMenu()},e.prototype.onCloseMenu=function(){var t=this;cc.log("\u9078\u55ae\u95dc\u9589"),h.AudioManager.instance.playAudioEvent("CloseMenu"),cc.tween(this.ui).call(function(){t.ui.closeMenu(!1)}).delay(.25).call(function(){t.ui.buttonGroupSwitch(!0),t.ui.menuButtonSwitch(!0)}).start()},e.prototype.onCloseHistory=function(){cc.log("\u95dc\u9589\u6b77\u53f2\u7d00\u9304"),this.ui.closeHistoryPanel()},e.prototype.onOpenHistory=function(){return s(this,void 0,Promise,function(){return a(this,function(){return cc.log("\u958b\u555f\u6b77\u53f2\u7d00\u9304"),h.AudioManager.instance.playAudioEvent("OpenHistory"),this.ui.openHistoryPanel(),[2]})})},e.prototype.onOpenRule=function(){cc.log("\u958b\u555f\u898f\u5247"),h.AudioManager.instance.playAudioEvent("OpenRule"),this.ui.openRule()},e.prototype.onOpenAutoGamePanel=function(){0!=this.hasEnoughBetScore()?(cc.log("\u958b\u555f\u81ea\u52d5\u904a\u6232\u9762\u677f"),h.AudioManager.instance.playAudioEvent("OpenAutoGamePanel"),this.ui.openAutoGamePanel()):this.ui.showLackMoneyPanel()},e.prototype.closeLoadingItem=function(){d.default.LOADING_UI_NODE.node&&cc.tween(d.default.LOADING_UI_NODE.node).call(function(){d.default.LOADING_UI_NODE.setLoadingBar(1)}).delay(.1).call(function(){d.default.LOADING_UI_NODE.hide()}).start()},e.prototype.showResponseLog=function(t,e){if(c.default.getInstance().isEnableErudaLog){e=e||{};var o=GameClient.convertTimestamp((new Date).getTime()),n=JSON.parse(JSON.stringify(e));console.log("%s %c %s",o,"background: Green; color: White;","\u56de\u61c9 "+t+" ",n)}},e.prototype.onSpin=function(){this.ui.spinButton.getComponent(cc.Button).interactable=!1,this.ui.hideSymbolTip()},e.prototype.onBalanceModifyEvent=function(t){var e=this;cc.log("\u91d1\u984d\u4fee\u6539 : "+t.balance),setTimeout(function(){e.isChangeMoney=!0,e.newMoney=t.balance},100)},e.prototype.onAddScroe=function(){if(cc.log("\u4e0b\u6ce8 \u589e\u52a0"),this.data.betOddsStartIndex>=this.data.betOdds.length-1)h.AudioManager.instance.playAudioEvent("AddScoreEnd");else{h.AudioManager.instance.playAudioEvent("AddScore"),this.data.betOddsStartIndex++;var t=this.data.getClientMoney(this.data.betOdds[this.data.betOddsStartIndex]*this.data.oneOddsScore);this.ui.setBetScore(t),this.data.saveBetIndex(this.data.betOddsStartIndex)}},e.prototype.onReduceScore=function(){if(cc.log("\u4e0b\u6ce8 \u6e1b\u5c11"),0!=this.data.betOddsStartIndex){h.AudioManager.instance.playAudioEvent("ReduceScore"),this.data.betOddsStartIndex--;var t=this.data.getClientMoney(this.data.betOdds[this.data.betOddsStartIndex]*this.data.oneOddsScore);this.ui.setBetScore(t),this.data.saveBetIndex(this.data.betOddsStartIndex)}else h.AudioManager.instance.playAudioEvent("ReduceScoreEnd")},e.prototype.onExitGame=function(){var t=this;h.AudioManager.instance.playAudioEvent("ExitGame"),cc.log("\u8fd4\u56de\u5927\u5ef3"),this.popup&&this.popup.connectWaitingDialogBox.show(),this.socket.launchGame({username:this.data.nickname,gameId:this.lobbyGameId}).then(function(e){t.socket.close(!0),g.SceneManager.changeURLsToken("?"+e.url.split("?")[1]),g.SceneManager.changeScene("L"+t.lobbyGameId,g.SCENE_TYPE.LOADING)})},e.prototype.onOpenMusicOptionPanel=function(){cc.log("\u958b\u555f\u97f3\u6a02\u8a2d\u5b9a\u9762\u677f"),this.ui.openMusicOptionPanel()},e.prototype.onCancelAutoSpinButton=function(){h.AudioManager.instance.playAudioEvent("CancelAutoSpinClick"),this.cancelAutoSpin()},e.prototype.onFastSpinOn=function(){cc.log("\u958b\u555f\u5feb\u901fspin"),h.AudioManager.instance.playAudioEvent("FastSpinOn"),this.data.isFaseSpin=!0,this.ui.fastSpinSwitch(!0),this.slotReelManager.setFastMode()},e.prototype.onFastSpinOff=function(){cc.log("\u95dc\u9589\u5feb\u901fspin"),h.AudioManager.instance.playAudioEvent("FastSpinOff"),this.data.isFaseSpin=!1,this.ui.fastSpinSwitch(!1),this.slotReelManager.setNormalMode()},e.prototype.onStartFreeGame=function(){h.AudioManager.instance.playAudioEvent("StartFreeGameClick"),this.startFreeGame()},e.prototype.onFreeGameEnd=function(){h.AudioManager.instance.playAudioEvent("FreeGameEndClick"),this.freeGameEnd()},e.prototype.startFreeGame=function(){},e.prototype.freeGameEnd=function(){},e.prototype.isWinScoreToStop=function(){return 0!=this.data.autoGameWinScoreStop&&this.data.totalBonus>=this.data.autoGameWinScoreStop},e.prototype.isScoreLessToStop=function(){var t=this.data.coin-this.data.autoGameStartScore;return 0!=this.data.autoGameScoreLessStop&&t<=-this.data.autoGameScoreLessStop},e.prototype.isOverAutoGameSpinCount=function(){return this.data.autoGameSpinCount!=f.SPIN_COUNT.UNLIMITED&&this.autoSpinCount>=this.data.autoGameSpinCount},e.prototype.saveBaseGameLastSymbol=function(){this.baseGameLastSymbol=this.slotReelManager.getAllSymbolID()},e.prototype.hasEnoughBetScore=function(){var t=this.data.betOdds[this.data.betOddsStartIndex];return!(this.data.coin<this.data.getClientMoney(t*this.data.oneOddsScore))},e.prototype.hasWinScoreEffect=function(t){return t>=this.data.playerBetScore*this.winEffectOdds},e.prototype.checkAutoGameContinue=function(){var t=!1;this.data.isAutoSpin&&(t=!0,(this.isScoreLessToStop()||this.isWinScoreToStop()||this.isOverAutoGameSpinCount()||y.ConfirmDialogBox.isShow)&&(t=!1,this.data.isAutoSpin=!1,this.cancelAutoSpin())),t?(0==this.hasEnoughBetScore()&&(this.cancelAutoSpin(),this.ui.hideSpinMask(),this.ui.showSpinButtonIdleEffect(),this.ui.setSpinArrowSpinningSpeed(u.SPIN_ARROW_SPINNIG_TYPE.NORMAL)),this.onSpin()):(this.ui.hideSpinMask(),this.ui.showSpinButtonIdleEffect(),this.ui.setSpinArrowSpinningSpeed(u.SPIN_ARROW_SPINNIG_TYPE.NORMAL))},e.prototype.cancelAutoSpin=function(){cc.log("\u95dc\u9589\u81ea\u52d5spin"),this.data.isAutoSpin=!1,this.ui.autoSpinSwitch(!1),this.ui.closeCancelAutoSpinButton()},e.prototype.onStartGameCompetition=function(t){var e=this;if(this.popup){var o=m.default.getInstance().get("TEXT_COMPETITION_GAME_START",m.default.getInstance().get("GAME_NAME_"+S.GAME_ID[t.gameId])+" "+t.competitionName,""+this.competitionStartFontSize1,""+this.competitionStartFontColor1,""+this.competitionStartFontSize2,""+this.competitionStartFontColor2);this.popup.ynDialogBox.setLineHeight(this.competitionFontLineHeight),this.popup.ynDialogBox.show("<b>"+o+"<\b>",function(){e.getPlayerOnlineList(function(){e.checkPlayerOnlineList(),Object.keys(S.default.onlineList).some(function(){return S.default.onlineList[t.topicName]})?(e.popup.connectWaitingDialogBox.show(),S.default.currentCompetitionId=t.competitionTopicName,S.default.currentTopicName=t.topicName,e.toOtherGame(t.gameId)):Object.keys(S.default.onlineList).length?e.popup.confirmSystemMsgDialogBox.show(m.default.getInstance().get("TEXT_COMPETITION_HAS_STARTED")):e.popup.confirmSystemMsgDialogBox.show(m.default.getInstance().get("TEXT_COMPETITION_IS_OVER"))})},function(){e.getPlayerOnlineList(e.checkPlayerOnlineList.bind(e))})}},e.prototype.onForceCloseCompetition=function(){this.popup&&this.popup.confirmSystemMsgDialogBox.show(m.default.getInstance().get("MESSAGE_COMPETITION_FORCE_CLOSED"))},e.prototype.getPlayerOnlineList=function(t,e){this.socket.getPlayerOnlineList().then(function(e){S.default.onlineListProcess(e),t&&t()}).catch(function(t){cc.error(t),e&&e()})},e.prototype.checkPlayerOnlineList=function(){},e.prototype.restore=function(t){var e=this;t===this.data.gameID||this.popup.ynDialogBox.show(m.default.getInstance().get("MESSAGE_RESTORE",m.default.getInstance().get("GAME_NAME_"+S.GAME_ID[t]),"dc5050"),function(){e.toOtherGame(t)},function(){S.default.currentTopicName=null,S.default.currentRecordId=null,cc.systemEvent.emit(b.ONLINE_LIST_EVENT.SET_LOADING_ACTIVE,!1)})},e.prototype.toOtherGame=function(t){var e=this;this.popup.connectWaitingDialogBox.show(),3===S.default.onlineList[S.default.currentTopicName].ManagerData.Status?this.socket.launchGame({username:this.data.nickname,gameId:t}).then(function(o){S.default.isReproduce=!0,e.socket.close(!0),g.SceneManager.changeURLsToken("?"+o.url.split("?")[1]),g.SceneManager.changeScene("G"+t,g.SCENE_TYPE.LOADING)}).catch(function(){e.popup.connectWaitingDialogBox.hide(),cc.systemEvent.emit(b.ONLINE_LIST_EVENT.SET_LOADING_ACTIVE,!1),S.default.currentTopicName=null}):this.socket.restore(S.default.currentTopicName).then(function(o){e.socket.close(!0);var n=o.url.split("?")[1];g.SceneManager.changeURLsToken("?"+n),g.SceneManager.changeScene("G"+t,g.SCENE_TYPE.LOADING)}).catch(function(t){e.popup.connectWaitingDialogBox.hide(),cc.error("\u8f09\u5165\u724c\u5c40\u6642\u767c\u751f\u932f\u8aa4",t),S.default.currentTopicName=null,cc.systemEvent.emit(b.ONLINE_LIST_EVENT.SET_LOADING_ACTIVE,!1)})},r([O({type:u.default,override:!0})],e.prototype,"ui",void 0),r([O({type:l.default,override:!0})],e.prototype,"slotReelManager",void 0),r([O({type:cc.Float,displayName:"\u8d0f\u9322\u6548\u679c\u986f\u793a\u500d\u7387"})],e.prototype,"winEffectOdds",void 0),r([_],e)}(cc.Component);o.default=T,cc._RF.pop()},{"../../Common/Optional/Jacky/Ex/WebEx":void 0,"../../Common/Tools/AudioManager/AudioManager":void 0,"../../Common/Tools/Base/BaseDataManager":void 0,"../../Common/Tools/ErudaLog/ErudaLog":void 0,"../../Common/Tools/Localization/LocalizationManager":void 0,"../../Common/Tools/MultipleGame/OnlineListManager":void 0,"../../Common/Tools/SceneManager/SceneManager":void 0,"../Common/DynamicPopUp/DialogBox/ConfirmDialogBox":"ConfirmDialogBox","../Slot_DataManager":"Slot_DataManager","./Panel/Slot_AutoGamePanel":"Slot_AutoGamePanel","./view/Slot_GameUI":"Slot_GameUI","./view/Slot_ReelManager":"Slot_ReelManager"}],Slot_GameUI_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"7991bGN+htARL2n2TDJiWTr","Slot_GameUI_InitData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.bundlePath="",this.dataManager=null}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_GameUI:[function(t,e,o){"use strict";cc._RF.push(e,"0f573hjmLhJzqiWY1Ax2eiC","Slot_GameUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.SPIN_ARROW_SPINNIG_TYPE=void 0;var s,a=t("../../../Common/Optional/Crosis/RunScore/RunScore"),c=t("../../../Common/Tools/WebHistoryPanel/WebHistoryPanel"),l=t("../Panel/Slot_AutoGamePanel"),p=t("../Panel/Slot_MusicOptionPanel"),u=t("../Panel/Slot_RulePanel"),d=t("../Panel/Slot_SymbolTipPanel"),h=t("../Panel/Slot_WinScorePanel"),f=cc._decorator,y=f.ccclass,m=f.property;(function(t){t[t.FAST=0]="FAST",t[t.NORMAL=1]="NORMAL",t[t.STOP=2]="STOP"})(s=o.SPIN_ARROW_SPINNIG_TYPE||(o.SPIN_ARROW_SPINNIG_TYPE={}));var S=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingNode=null,e.tip1String="\u4ee5\u4e0b\u70ba\u53c3\u6578",e.menuOpenTime=.25,e.menuCloseTime=.25,e.spinArrowRotateDuration_Normal=2,e.spinArrowRotateDuration_Fast=.5,e.tip2String="\u4ee5\u4e0b\u70ba\u6309\u9215",e.menuButton=null,e.spinButton=null,e.spinArrow=null,e.spinButtonIdleEffect=null,e.spinButtonClickEffect=null,e.cancelAutoSpinButton=null,e.fastSpinOn=null,e.fastSpinOff=null,e.autoSpinOn=null,e.autoSpinOff=null,e.tip3String="\u4ee5\u4e0b\u70ba \u6587\u5b57",e.score=null,e.winScore=null,e.betScore=null,e.autoSpinCount=null,e.remainingFreeGameCount=null,e.getScoreTip=null,e.totalGetScore=null,e.totalGetScoreTip=null,e.tip4String="\u4ee5\u4e0b\u70ba \u5176\u4ed6",e.menu=null,e.versionLabel=null,e.buttonGroup=null,e.backButton=null,e.freeGameOddsTip=null,e.mainGameTip=null,e.freeGameTip=null,e.mainGameTipList=[],e.freeGameTipList=[],e.freeGameOddsLabel=[],e.remainingFreeGame=null,e.lastFreeGame=null,e.spinMask=null,e.longWildFX=[],e.updateBroadEffect=null,e.historyPanel=null,e.rulePanel=null,e.autoGamePanel=null,e.musicOptionPanel=null,e.symbolTipPanel=null,e.winScorePanel=null,e.mainGameTipIndex=0,e.freeGameTipIndex=0,e}return i(e,t),e.prototype.init=function(){this.setVersion(""),this.closeMenu(!0),this.buttonGroupSwitch(!0),this.hideFreeGameOddsTip(),this.hideSpinMask(),this.closeCancelAutoSpinButton(),this.hideGetScoreTip(),this.hideRemainingFreeGameCount(),this.initGameTip(),this.periodicChangeGameTip(),this.rulePanel.init(),this.autoGamePanel.init(),this.musicOptionPanel.init(),this.symbolTipPanel.init(),this.winScorePanel.init(),this.menu.active=!1,this.spinButtonClickEffect.active=!1,this.spinButtonIdleEffect.active=!0,this.updateBroadEffect.node.active=!1},e.prototype.setVersion=function(t){this.versionLabel.string="Version\uff1a"+t},e.prototype.getVersion=function(){return this.versionLabel.string},e.prototype.closeMenu=function(t){var e=this;t?(this.menu.setPosition(0,-1200),this.menu.active=!1):(this.menu.setPosition(0,-773),cc.tween(this.menu).to(this.menuCloseTime,{position:cc.v3(0,-1200)}).call(function(){e.menu.active=!1}).start())},e.prototype.openMenu=function(){this.menu.setPosition(0,-1200),this.menu.active=!0,cc.tween(this.menu).to(this.menuOpenTime,{position:cc.v3(0,-773)}).start()},e.prototype.openRule=function(){this.rulePanel.open()},e.prototype.openHistoryPanel=function(){this.historyPanel.show()},e.prototype.closeHistoryPanel=function(){this.historyPanel.hide()},e.prototype.openAutoGamePanel=function(){this.autoGamePanel.open()},e.prototype.closeAutoGamePanel=function(){this.autoGamePanel.close()},e.prototype.openMusicOptionPanel=function(){this.musicOptionPanel.open()},e.prototype.setBackBtnState=function(t){this.backButton&&(this.backButton.active=t)},e.prototype.fastSpinSwitch=function(t){this.fastSpinOn.active=t,this.fastSpinOff.active=!t},e.prototype.autoSpinSwitch=function(t){this.autoSpinOn.active=t,this.autoSpinOff.active=!t},e.prototype.buttonGroupSwitch=function(t){this.buttonGroup.active=t},e.prototype.menuButtonSwitch=function(t){this.menuButton.active=t},e.prototype.setScore=function(t){this.score.getComponent(a.default).setRunScoreLabel(t),this.score.string=Number(t.toString()).toFixed(2)},e.prototype.addScore=function(t){var e=Number((Number(this.score.string)+t).toFixed(2));this.score.string=e.toString()},e.prototype.setBetScore=function(t){this.betScore.string=t.toString()},e.prototype.setWinScore=function(t){this.winScore.getComponent(a.default).setRunScoreLabel(t),this.winScore.string=t.toString()},e.prototype.addWinScore=function(t){var e=Number((Number(this.winScore.string)+t).toFixed(2));this.winScore.string=e.toString()},e.prototype.showFreeGameOddsTip=function(){this.freeGameOddsTip.active=!0},e.prototype.hideFreeGameOddsTip=function(){this.freeGameOddsTip.active=!1},e.prototype.showSpinMask=function(){this.spinMask.active=!0},e.prototype.hideSpinMask=function(){this.spinMask.active=!1},e.prototype.openCancelAutoSpinButton=function(){this.spinButton.active=!1,this.cancelAutoSpinButton.active=!0},e.prototype.closeCancelAutoSpinButton=function(){this.spinButton.active=!0,this.cancelAutoSpinButton.active=!1},e.prototype.showMainGameTip=function(){this.mainGameTip.active=!0,this.freeGameTip.active=!1},e.prototype.showFreeGameTip=function(){this.freeGameTip.active=!0,this.mainGameTip.active=!1},e.prototype.hideGameTip=function(){this.mainGameTip.active=!1,this.freeGameTip.active=!1},e.prototype.closeFreeGameOddsLabel=function(){for(var t=0;t<this.freeGameOddsLabel.length;t++)this.freeGameOddsLabel[t].active=!1},e.prototype.changeFreeGameOddsLabel=function(t){for(var e=0;e<this.freeGameOddsLabel.length;e++)this.freeGameOddsLabel[e].active=!1;t>0&&(t>this.freeGameOddsLabel.length&&(t=this.freeGameOddsLabel.length),this.freeGameOddsLabel[t-1].active=!0)},e.prototype.setRemainingFreeGameCount=function(t){t>0?(this.remainingFreeGameCount.node.active=!0,this.lastFreeGame.active=!1,this.remainingFreeGameCount.string=t.toString()):(this.remainingFreeGameCount.node.active=!1,this.lastFreeGame.active=!0,this.remainingFreeGameCount.string=t.toString())},e.prototype.showRemainingFreeGameCount=function(){this.remainingFreeGame.active=!0},e.prototype.hideRemainingFreeGameCount=function(){this.remainingFreeGame.active=!1},e.prototype.showTotalGetScore=function(t){this.updateBroadEffect.node.active=!0,this.updateBroadEffect.play(),this.getScoreTip.node.active=!1,this.totalGetScore.active=!0,this.totalGetScoreTip.string=t.toString()},e.prototype.showGetScoreTip=function(t){this.getScoreTip.node.active=!0,this.getScoreTip.getComponent(a.default).resetToZero(),this.getScoreTip.string=t.toString()},e.prototype.hideGetScoreTip=function(){this.getScoreTip.getComponent(a.default).resetToZero(),this.getScoreTip.node.active=!1,this.updateBroadEffect.stop(),this.totalGetScore.active=!1},e.prototype.showSpinButtonClickEffect=function(){var t=this;cc.tween(this.node).call(function(){t.spinButtonClickEffect.active=!0,t.spinButtonIdleEffect.active=!1}).delay(1).call(function(){t.spinButtonClickEffect.active=!1}).start()},e.prototype.showSpinButtonIdleEffect=function(){this.spinButtonIdleEffect.active=!0},e.prototype.showLongWildEffect=function(t,e){var o=this;e?(this.longWildFX[t].node.stopAllActions(),this.longWildFX[t].node.active=!0,this.longWildFX[t].play(),this.longWildFX[t].setCurrentTime(this.longWildFX[t].defaultClip.duration)):cc.tween(this.longWildFX[t].node).delay(2).call(function(){o.playLongWildSound(),o.longWildFX[t].node.active=!0,o.longWildFX[t].play()}).start()},e.prototype.hideAllLongWilfEffect=function(){for(var t=0;t<this.longWildFX.length;t++)this.longWildFX[t].node.active=!1},e.prototype.setAutoSpinCount=function(t){this.autoSpinCount.string=-1==t?"=":t.toString()},e.prototype.setSpinArrowSpinningSpeed=function(t){this.spinArrow.stopAllActions(),t==s.STOP||(t==s.NORMAL?cc.tween(this.spinArrow).by(this.spinArrowRotateDuration_Normal,{angle:360}).repeatForever().start():cc.tween(this.spinArrow).by(this.spinArrowRotateDuration_Fast,{angle:360}).repeatForever().start())},e.prototype.getLoadingNode=function(){return this.loadingNode},e.prototype.showLoadingUI=function(){this.loadingNode.active=!0},e.prototype.loadingUIFadeOut=function(){var t=this;cc.tween(this.loadingNode).to(1,{opacity:0},{easing:"cubicInOut"}).call(function(){t.loadingNode.active=!1}).start()},e.prototype.showLackMoneyPanel=function(){cc.error("\u986f\u793a\u91d1\u984d\u4e0d\u8db3\u5f48\u7a97")},e.prototype.playLongWildSound=function(){cc.error("\u9019\u908a\u81ea\u5df1\u7e7c\u627f\u8986\u5beb \u6c92\u4eba\u77e5\u9053\u4f60\u7684\u9577Wild\u7684\u8072\u97f3\u4f4d\u7f6e\u5728\u54ea")},e.prototype.initGameTip=function(){if(this.mainGameTipList.length>0&&this.mainGameTipList[0].setPosition(new cc.Vec2(0,0)),this.mainGameTipList.length>1)for(var t=1;t<this.mainGameTipList.length;t++)this.mainGameTipList[t].setPosition(new cc.Vec2(0,-150));else if(1==this.mainGameTipList.length){var e=cc.instantiate(this.mainGameTipList[0]);this.mainGameTip.addChild(e),e.setPosition(new cc.Vec2(0,-150)),this.mainGameTipList.push(e)}if(this.freeGameTipList.length>0&&this.freeGameTipList[0].setPosition(new cc.Vec2(0,0)),this.freeGameTipList.length>1)for(t=1;t<this.freeGameTipList.length;t++)this.freeGameTipList[t].setPosition(new cc.Vec2(0,-150));else 1==this.freeGameTipList.length&&(e=cc.instantiate(this.freeGameTipList[0]),this.freeGameTip.addChild(e),e.setPosition(new cc.Vec2(0,-150)),this.freeGameTipList.push(e));this.showMainGameTip()},e.prototype.periodicChangeGameTip=function(){var t=this;cc.tween(this.mainGameTip).repeatForever(cc.tween().delay(5).call(function(){t.changeGameTip(!1)})).start(),cc.tween(this.freeGameTip).repeatForever(cc.tween().delay(5).call(function(){t.changeGameTip(!0)})).start()},e.prototype.changeGameTip=function(t){var e=t?this.freeGameTipIndex:this.mainGameTipIndex,o=e+1,n=t?this.freeGameTipList:this.mainGameTipList;o>=n.length&&(o=0),n[o].setPosition(new cc.Vec2(0,-150)),n[e].setPosition(new cc.Vec2(0,0)),cc.tween(n[o]).to(1,{position:new cc.Vec3(0,0)}).start(),cc.tween(n[e]).to(1,{position:new cc.Vec3(0,150)}).start(),t?this.freeGameTipIndex=o:this.mainGameTipIndex=o},e.prototype.showSymbolTip=function(t,e){this.symbolTipPanel.open(t,e)},e.prototype.hideSymbolTip=function(){this.symbolTipPanel.close()},e.prototype.showWinScoreEffect=function(t,e,o){void 0===o&&(o=!1),this.winScorePanel.open(t,e,o)},e.prototype.closeWinScoreEffect=function(){this.winScorePanel.close()},e.prototype.winScoreEffectToEndScore=function(){this.winScorePanel.showEndScore()},e.prototype.isWinScoreEffecting=function(){return this.winScorePanel.isWinScoreEffecting()},e.prototype.winScoreIsEndScore=function(){return this.winScorePanel.isEndScore()},r([m(cc.Node)],e.prototype,"loadingNode",void 0),r([m({readonly:!0,displayName:"============ \u3010 \u53c3\u6578 \u3011 ============"})],e.prototype,"tip1String",void 0),r([m(cc.Integer)],e.prototype,"menuOpenTime",void 0),r([m(cc.Integer)],e.prototype,"menuCloseTime",void 0),r([m(cc.Float)],e.prototype,"spinArrowRotateDuration_Normal",void 0),r([m(cc.Float)],e.prototype,"spinArrowRotateDuration_Fast",void 0),r([m({readonly:!0,displayName:"============ \u3010 \u6309\u9215 \u3011 ============"})],e.prototype,"tip2String",void 0),r([m(cc.Node)],e.prototype,"menuButton",void 0),r([m(cc.Node)],e.prototype,"spinButton",void 0),r([m(cc.Node)],e.prototype,"spinArrow",void 0),r([m(cc.Node)],e.prototype,"spinButtonIdleEffect",void 0),r([m(cc.Node)],e.prototype,"spinButtonClickEffect",void 0),r([m(cc.Node)],e.prototype,"cancelAutoSpinButton",void 0),r([m(cc.Node)],e.prototype,"fastSpinOn",void 0),r([m(cc.Node)],e.prototype,"fastSpinOff",void 0),r([m(cc.Node)],e.prototype,"autoSpinOn",void 0),r([m(cc.Node)],e.prototype,"autoSpinOff",void 0),r([m({readonly:!0,displayName:"============ \u3010 \u6587\u5b57 \u3011 ============"})],e.prototype,"tip3String",void 0),r([m(cc.Label)],e.prototype,"score",void 0),r([m(cc.Label)],e.prototype,"winScore",void 0),r([m(cc.Label)],e.prototype,"betScore",void 0),r([m(cc.Label)],e.prototype,"autoSpinCount",void 0),r([m(cc.Label)],e.prototype,"remainingFreeGameCount",void 0),r([m(cc.Label)],e.prototype,"getScoreTip",void 0),r([m(cc.Node)],e.prototype,"totalGetScore",void 0),r([m(cc.Label)],e.prototype,"totalGetScoreTip",void 0),r([m({readonly:!0,displayName:"============ \u3010 \u5176\u4ed6 \u3011 ============"})],e.prototype,"tip4String",void 0),r([m(cc.Node)],e.prototype,"menu",void 0),r([m(cc.Label)],e.prototype,"versionLabel",void 0),r([m(cc.Node)],e.prototype,"buttonGroup",void 0),r([m(cc.Node)],e.prototype,"backButton",void 0),r([m(cc.Node)],e.prototype,"freeGameOddsTip",void 0),r([m(cc.Node)],e.prototype,"mainGameTip",void 0),r([m(cc.Node)],e.prototype,"freeGameTip",void 0),r([m([cc.Node])],e.prototype,"mainGameTipList",void 0),r([m([cc.Node])],e.prototype,"freeGameTipList",void 0),r([m([cc.Node])],e.prototype,"freeGameOddsLabel",void 0),r([m(cc.Node)],e.prototype,"remainingFreeGame",void 0),r([m(cc.Node)],e.prototype,"lastFreeGame",void 0),r([m(cc.Node)],e.prototype,"spinMask",void 0),r([m([cc.Animation])],e.prototype,"longWildFX",void 0),r([m(cc.Animation)],e.prototype,"updateBroadEffect",void 0),r([m(c.default)],e.prototype,"historyPanel",void 0),r([m(u.default)],e.prototype,"rulePanel",void 0),r([m(l.default)],e.prototype,"autoGamePanel",void 0),r([m(p.default)],e.prototype,"musicOptionPanel",void 0),r([m(d.default)],e.prototype,"symbolTipPanel",void 0),r([m(h.default)],e.prototype,"winScorePanel",void 0),r([y],e)}(cc.Component);o.default=S,cc._RF.pop()},{"../../../Common/Optional/Crosis/RunScore/RunScore":void 0,"../../../Common/Tools/WebHistoryPanel/WebHistoryPanel":void 0,"../Panel/Slot_AutoGamePanel":"Slot_AutoGamePanel","../Panel/Slot_MusicOptionPanel":"Slot_MusicOptionPanel","../Panel/Slot_RulePanel":"Slot_RulePanel","../Panel/Slot_SymbolTipPanel":"Slot_SymbolTipPanel","../Panel/Slot_WinScorePanel":"Slot_WinScorePanel"}],Slot_HistoryPanel:[function(t,e,o){"use strict";cc._RF.push(e,"c360bbln5lP+KX3xZB9tnKK","Slot_HistoryPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,c=s.property,l=s.executeInEditMode,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.url="",e.isAdaptation=!1,e.webView=null,e}return i(e,t),e.prototype.init=function(){this.webView=this.node.getComponent(cc.WebView),this.node.active=!1},e.prototype.start=function(){var t=this;this.isAdaptation&&(this.onDesignResolutionChanged(),cc.view.on("design-resolution-changed",function(){t.onDesignResolutionChanged()}))},e.prototype.open=function(t){var e=this;this.node.setPosition(cc.Vec2.ZERO),this.node.active=!0,this.webView.url=t,this.webView.enabled=!0,window.closeWebView=function(){e.node.active=!1},window.addEventListener("message",function(t){"closeWebView"===t.data&&(e.node.active=!1)})},e.prototype.close=function(){this.node.active=!1},e.prototype.setWebResolution=function(){this.node.setContentSize(432,768),this.node.setScale(1.6666,1.6666)},e.prototype.onDesignResolutionChanged=function(){var t=window.innerWidth,e=window.innerHeight,o=e/t;if(t>e){if(!cc.view._isRotated)return void this.node.setContentSize(432,768);o=t/e}o<768/432?this.node.setContentSize(432,768):o>1680/720?this.node.setContentSize(432,1680/720*432):this.node.setContentSize(432,432*o)},r([c(cc.String)],e.prototype,"url",void 0),r([a,l],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Slot_LineData:[function(t,e,o){"use strict";cc._RF.push(e,"7e72e014TdDzb5EAUlvjb7Y","Slot_LineData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.position=[],this.score=""}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_LineManager:[function(t,e,o){"use strict";cc._RF.push(e,"c769bpVx8FD0r5wytxeBkZU","Slot_LineManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.LineTipSide=void 0;var s=t("../Data/Slot_LineData"),a=t("./Slot_Line"),c=cc._decorator,l=c.ccclass,p=c.property;(function(t){t[t.NONE=-1]="NONE",t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"})(o.LineTipSide||(o.LineTipSide={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.linePrefab=null,e.lineContent=null,e.tipContent=null,e.lineTipOrders=[5,0,14,0,14,1,13,5,6,3,13,6,7,4,0,8,7,2,10,2,12,3,11,8,9,4,11,9,12,1],e.lineList=[],e.linePosition=[],e.lineTipSide=[],e}return i(e,t),e.prototype.init=function(t,e){this.setLinePosition(t,e)},e.prototype.showLine=function(t,e){cc.log("\u986f\u793a\u7684\u9023\u7dda",t);for(var o=0;o<t.length;o++){0==cc.isValid(this.lineList[o])&&this.createLine(o);var n=new s.default;n.position=this.linePosition[t[o]],n.score=e[o],n.lineIndex=t[o],n.lineTipSide=this.lineTipSide[t[o]],n.lineTipZOrder=this.lineTipOrders[t[o]],this.lineList[o].node.active=!0,this.lineList[o].setData(n),this.lineList[o].show()}},e.prototype.hideLine=function(){cc.log("\u96b1\u85cf\u9023\u7dda");for(var t=0;t<this.lineList.length;t++)this.lineList[t].hide()},e.prototype.createLine=function(t){this.lineList[t]=cc.instantiate(this.linePrefab).getComponent(a.default),this.lineList[t].init(this.tipContent),this.lineList[t].node.setParent(this.lineContent)},e.prototype.setLinePosition=function(){cc.error("\u8acb\u81ea\u5df1\u8907\u5beb \u9023\u7dda\u7684\u4f4d\u7f6e \u4e0d\u77e5\u9053\u8acb\u53c3\u8003G10")},r([p(cc.Node)],e.prototype,"linePrefab",void 0),r([p(cc.Node)],e.prototype,"lineContent",void 0),r([p(cc.Node)],e.prototype,"tipContent",void 0),r([p([cc.Float])],e.prototype,"lineTipOrders",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../Data/Slot_LineData":"Slot_LineData","./Slot_Line":"Slot_Line"}],Slot_Line:[function(t,e,o){"use strict";cc._RF.push(e,"d07f47LbptG6pe9+UcvRf5z","Slot_Line");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Slot_LineManager"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(){function t(){this.node=null,this.tipNumber=null,this.tipFrame=null}return r([l(cc.Node)],t.prototype,"node",void 0),r([l(cc.Label)],t.prototype,"tipNumber",void 0),r([l(cc.Sprite)],t.prototype,"tipFrame",void 0),r([c("TipFrame")],t)}(),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lineSpine=null,e.tipNumbers=[],e.scoreNode=null,e.scoreLabel=null,e.boneLength=0,e}return i(e,t),e.prototype.init=function(t){this.tipNumbers[0].node.setParent(t),this.tipNumbers[1].node.setParent(t),this.closeAllTipNumber()},e.prototype.setData=function(t){this.setLinePosition(t.position),this.setScore(t.score),this.setTipSide(t.lineIndex,t.lineTipSide),this.setTipZOrder(t.lineTipZOrder)},e.prototype.show=function(){this.lineSpine.setAnimation(0,this.lineSpine.defaultAnimation,!0)},e.prototype.hide=function(){this.closeAllTipNumber(),this.node.active=!1},e.prototype.setLinePosition=function(t){for(var e=0;e<t.length;e++){var o=this.lineSpine.findBone("controlBone"+(e+1));o.x=t[e].x,o.y=t[e].y}this.boneLength=t.length},e.prototype.setScore=function(t){var e=this.lineSpine.findBone("controlBone4");this.scoreNode.active=""!=t,this.scoreNode.setPosition(new cc.Vec2(e.x,e.y)),this.scoreLabel.string=Number(t).toFixed(2)},e.prototype.setTipSide=function(t,e){if(this.tipNumbers[e].node.active=!0,e!=s.LineTipSide.NONE){var o=null;e==s.LineTipSide.RIGHT?o=this.lineSpine.findBone("controlBone"+this.boneLength):e==s.LineTipSide.LEFT&&(o=this.lineSpine.findBone("controlBone1")),this.closeAllTipNumber(),this.tipNumbers[e].node.active=!0,this.tipNumbers[e].node.setPosition(new cc.Vec2(o.x,o.y)),this.tipNumbers[e].tipNumber.string=(t+1).toString()}},e.prototype.closeAllTipNumber=function(){for(var t=0;t<this.tipNumbers.length;t++)this.tipNumbers[t].node.active=!1},e.prototype.setTipZOrder=function(t){for(var e=0;e<this.tipNumbers.length;e++)this.tipNumbers[e].node.zIndex=t},r([l(sp.Skeleton)],e.prototype,"lineSpine",void 0),r([l([p])],e.prototype,"tipNumbers",void 0),r([l(cc.Node)],e.prototype,"scoreNode",void 0),r([l(cc.Label)],e.prototype,"scoreLabel",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./Slot_LineManager":"Slot_LineManager"}],Slot_LoadingItem:[function(t,e,o){"use strict";cc._RF.push(e,"ea0f4JCN8VPvJrkxlaQ4klk","Slot_LoadingItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Common/Optional/Crosis/LabelWave/LabelWave"),a=t("../../Common/Tools/Localization/LocalizationManager"),c=cc._decorator,l=c.ccclass,p=c.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.loadingBar=null,e.loadingNumber=null,e.loadingWavaWord=null,e}return i(e,t),e.prototype.init=function(){this.setLoadingBar(0)},e.prototype.setLoadingBar=function(t){this.loadingBar.progress=t,this.loadingNumber&&(this.loadingNumber.string=Math.floor(100*t)+"%")},e.prototype.show=function(){this.node.opacity=255},e.prototype.hide=function(){cc.tween(this.node).to(1,{opacity:0}).start()},e.prototype.updateLoadingLabelWave=function(){this.loadingWavaWord&&(this.loadingWavaWord.string=a.default.getInstance().get("TEXT_SLOT_LOADING"),this.loadingWavaWord.node.addComponent(s.default))},r([p(cc.ProgressBar)],e.prototype,"loadingBar",void 0),r([p(cc.Label)],e.prototype,"loadingNumber",void 0),r([p(cc.Label)],e.prototype,"loadingWavaWord",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../Common/Optional/Crosis/LabelWave/LabelWave":void 0,"../../Common/Tools/Localization/LocalizationManager":void 0}],Slot_LoadingManager:[function(t,e,o){"use strict";cc._RF.push(e,"a62d4SoCltDVLOv18e63SME","Slot_LoadingManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},s=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{c(n.next(t))}catch(e){r(e)}}function a(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../Common/Tools/Base/BaseLoading"),l=t("../../Common/Tools/SceneManager/SceneManager"),p=t("../Common/Slot_LoadingItem"),u=t("../Slot_DataManager"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataManagerInstance=null,e.loadingItem=null,e}return i(e,t),e.prototype.start=function(){this.loadingItem.node.setParent(null),u.default.LOADING_UI_NODE=this.loadingItem,cc.game.addPersistRootNode(this.loadingItem.node),l.SceneManager.registerPersistentRootNode(this.loadingItem.node),this.loadingItem.init()},e.prototype.initGameConfig=function(e){return s(this,void 0,Promise,function(){return a(this,function(o){switch(o.label){case 0:return this.dataManagerInstance=e,[4,t.prototype.initGameConfig.call(this,e)];case 1:return o.sent(),[2]}})})},e.prototype.processAsync=function(t){return s(this,void 0,Promise,function(){return a(this,function(e){switch(e.label){case 0:return[4,this.asyncPreloadWithArray(t)];case 1:return e.sent(),[2]}})})},e.prototype.onSetLoadingProgress=function(t){this.loadingItem.setLoadingBar(t)},e.prototype.loadAudioClips=function(t,e){return new Promise(function(o){cc.assetManager.getBundle(t).loadDir(e,cc.AudioClip,function(t,e){if(cc.isValid(t))return console.error("loadAudioClips err ",t),o([]);o(e)})})},r([f(p.default)],e.prototype,"loadingItem",void 0),r([h],e)}(c.default);o.default=y,cc._RF.pop()},{"../../Common/Tools/Base/BaseLoading":void 0,"../../Common/Tools/SceneManager/SceneManager":void 0,"../Common/Slot_LoadingItem":"Slot_LoadingItem","../Slot_DataManager":"Slot_DataManager"}],Slot_LobbyManager_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"c8dd0c0Ex9GkIu4GCCicI7B","Slot_LobbyManager_InitData"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],Slot_LobbyManager:[function(t,e,o){"use strict";cc._RF.push(e,"3267eZ591tMba0jm/+9z6Qq","Slot_LobbyManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Common/Tools/ErudaLog/ErudaLog"),a=t("../Slot_DataManager"),c=cc._decorator,l=c.ccclass,p=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){a.default.LOADING_UI_NODE.show()},e.prototype.init=function(){},e.prototype.showResponseLog=function(t,e){if(s.default.getInstance().isEnableErudaLog){e=e||{};var o=GameClient.convertTimestamp((new Date).getTime()),n=JSON.parse(JSON.stringify(e));console.log("%s %c %s",o,"background: Green; color: White;","\u56de\u61c9 "+t+" ",n)}},r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../../Common/Tools/ErudaLog/ErudaLog":void 0,"../Slot_DataManager":"Slot_DataManager"}],Slot_LobbyUI_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"9d1dbO+eqlPi4zym1xQ87Yr","Slot_LobbyUI_InitData"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],Slot_LobbyUI:[function(t,e,o){"use strict";cc._RF.push(e,"4859bSy569GmYxumwm3r0tU","Slot_LobbyUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=cc._decorator,c=a.ccclass,l=a.property;(function(t){t[t.IDLE=0]="IDLE",t[t.WORK=1]="WORK"})(s||(s={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.playerName=null,e.playerIcon=null,e.playerScore=null,e.menu=null,e.menuStatus=s.IDLE,e}return i(e,t),e.prototype.init=function(t){this.bundleName=t.bundleName,this.bundlePath=t.bundlePath,this.menu.getComponent(cc.Widget).updateAlignment(),this.menu.active=!1},e.prototype.setPlayerInfo=function(t,e,o){this.setPlayerName(t),this.setPlayerScore(o),this.setPlayerIcon(e)},e.prototype.openMenu=function(){var t=this;if(this.menuStatus!=s.WORK){this.menuStatus=s.WORK,this.menu.active=!0;var e=this.menu.getPosition();cc.error(e),this.menu.stopAllActions(),cc.tween(this.menu).to(.2,{position:cc.v3(e.x-130,e.y,0)},{easing:cc.easing.sineOut}).call(function(){t.menuStatus=s.IDLE}).start()}},e.prototype.closeMenu=function(){var t=this;if(this.menuStatus!=s.WORK){this.menuStatus=s.WORK,this.menu.active=!0;var e=this.menu.getPosition();this.menu.stopAllActions(),cc.tween(this.menu).to(.2,{position:cc.v3(e.x+130,e.y,0)},{easing:cc.easing.sineOut}).call(function(){t.menuStatus=s.IDLE,t.menu.active=!1}).start()}},e.prototype.setPlayerName=function(t){this.playerName.string=t},e.prototype.setPlayerIcon=function(){cc.error("\u9019\u908a\u81ea\u5df1\u7e7c\u627f\u8986\u5beb \u6c92\u4eba\u77e5\u9053\u4f60\u7684\u982d\u50cf\u5716\u7247\u7684\u4f4d\u7f6e\u5728\u54ea")},e.prototype.setPlayerScore=function(t){this.playerScore.string=t.toString()},r([l(cc.Label)],e.prototype,"playerName",void 0),r([l(cc.Sprite)],e.prototype,"playerIcon",void 0),r([l(cc.Label)],e.prototype,"playerScore",void 0),r([l(cc.Node)],e.prototype,"menu",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Slot_MusicOptionPanel:[function(t,e,o){"use strict";cc._RF.push(e,"27f04EbwUFGt4qUrCrivMTv","Slot_MusicOptionPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Tools/AudioManager/AudioManager"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.musicToggle=null,e.musicSlider=null,e.musicFill=null,e.soundToggle=null,e.soundSlider=null,e.soundFill=null,e.soundFillSize=null,e.musicFillSize=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){this.soundFillSize=this.soundFill.node.getContentSize(),this.musicFillSize=this.musicFill.node.getContentSize();var t=s.AudioManager.instance.musicVolume;this.musicFill.node.setContentSize(new cc.Size(this.musicFillSize.width*t,this.musicFillSize.height)),this.musicToggle.isChecked=0!=t,this.musicSlider.progress=t;var e=s.AudioManager.instance.soundVolume;this.soundFill.node.setContentSize(new cc.Size(this.soundFillSize.width*e,this.soundFillSize.height)),this.soundToggle.isChecked=0!=e,this.soundSlider.progress=e,this.node.active=!1},e.prototype.onMusicToggle=function(t){t.isChecked?(this.musicSlider.progress=1,this.musicFill.fillRange=1,this.musicFill.node.setContentSize(new cc.Size(this.musicFillSize.width,this.musicFillSize.height)),s.AudioManager.instance.musicVolume=1,s.AudioManager.instance.playAudioEvent("MusicOptionPanel_OpenMusic")):(this.musicSlider.progress=0,this.musicFill.fillRange=0,this.musicFill.node.setContentSize(new cc.Size(0,this.musicFillSize.height)),s.AudioManager.instance.musicVolume=0,s.AudioManager.instance.playAudioEvent("MusicOptionPanel_CloseMusic"))},e.prototype.onChangeMusicSlider=function(t){this.musicFill.node.setContentSize(new cc.Size(this.musicFillSize.width*t.progress,this.musicFillSize.height)),0!=t.progress?this.musicToggle.isChecked=!0:this.musicToggle.isChecked=!1,s.AudioManager.instance.musicVolume=t.progress},e.prototype.onSoundToggle=function(t){t.isChecked?(this.soundSlider.progress=1,this.soundFill.fillRange=1,this.soundFill.node.setContentSize(new cc.Size(this.soundFillSize.width,this.soundFillSize.height)),s.AudioManager.instance.soundVolume=1,s.AudioManager.instance.playAudioEvent("MusicOptionPanel_OpenSound")):(this.soundSlider.progress=0,this.soundFill.fillRange=0,this.soundFill.node.setContentSize(new cc.Size(0,this.soundFillSize.height)),s.AudioManager.instance.soundVolume=0,s.AudioManager.instance.playAudioEvent("MusicOptionPanel_CloseSound"))},e.prototype.onChangeSoundSlider=function(t){this.soundFill.node.setContentSize(new cc.Size(this.soundFillSize.width*t.progress,this.soundFillSize.height)),0!=t.progress?this.soundToggle.isChecked=!0:this.soundToggle.isChecked=!1,s.AudioManager.instance.soundVolume=t.progress},e.prototype.open=function(){s.AudioManager.instance.playAudioEvent("OpenMusicOptionePanel"),this.node.setPosition(new cc.Vec2(0,0)),this.node.active=!0},e.prototype.close=function(){s.AudioManager.instance.playAudioEvent("CloseMusicOptionePanel"),this.node.active=!1},r([l(cc.Toggle)],e.prototype,"musicToggle",void 0),r([l(cc.Slider)],e.prototype,"musicSlider",void 0),r([l(cc.Sprite)],e.prototype,"musicFill",void 0),r([l(cc.Toggle)],e.prototype,"soundToggle",void 0),r([l(cc.Slider)],e.prototype,"soundSlider",void 0),r([l(cc.Sprite)],e.prototype,"soundFill",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../../Common/Tools/AudioManager/AudioManager":void 0}],Slot_ReelManager_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"0a346QGroNCAYuRxxNsrxEI","Slot_ReelManager_InitData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.bundlePath=""}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_ReelManager_ScrollData:[function(t,e,o){"use strict";cc._RF.push(e,"5805dHXmQRHgJlxu7AYrZwC","Slot_ReelManager_ScrollData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.targetSymbolIndex=[],this.hasLongWild=!1,this.hasOmenReels=[],this.hasLongWilds=[],this.rewardTime=0,this.hasGotFreeGame=!1,this.reels=[],this.isFreeGame=!1,this.isSkipDropOut=!1}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_ReelManager:[function(t,e,o){"use strict";cc._RF.push(e,"0fbbev0eURG841zFA/g2qEf","Slot_ReelManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("../Data/Slot_Reel_ScrollData"),c=t("./Slot_Reel"),l=t("../Data/Slot_Reel_InitData");(function(t){t[t.IDLE=0]="IDLE",t[t.SCROLL_ING=1]="SCROLL_ING",t[t.SCROLL_END=2]="SCROLL_END",t[t.RWARD_EFFECTING_ING=3]="RWARD_EFFECTING_ING",t[t.RWARD_EFFECTING_END=4]="RWARD_EFFECTING_END"})(s||(s={}));var p=cc._decorator,u=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.omenMask=null,e.reelPrefab=null,e.content=null,e.tip1String="\u4ee5\u4e0b\u70ba\u8f2a\u5b50\u8a2d\u5b9a",e.reelMode=l.ReelMode.SCROLL,e.reelCount=5,e.reelSpacing=2.5,e.reelsOffset=[],e.tip2String="\u4ee5\u4e0b\u70ba\u7b26\u865f\u8a2d\u5b9a",e.symbolCount=3,e.symbolSpacing=17,e.tip3String="\u4ee5\u4e0b\u70baspin\u52d5\u756b",e.tip4String="\u7e3d\u6642\u9593 \uff1d \u9577Wild\u7684\u8868\u6f14\u6642\u9593 + \u6efe\u8f2a\u6b63\u5e38\u6efe\u52d5\u6642\u9593 + \u8f2a\u5b50\u958b\u59cb\u8f49\u52d5\u9593\u9694 + \u8f2a\u5b50\u505c\u6b62\u8f49\u52d5\u9593\u9694 + \u9810\u5146\u6efe\u8f2a\u6642\u9593 + \u6efe\u8f2a\u6e1b\u901f\u6642\u9593 + \u6efe\u8f2a\u56de\u5f48\u6642\u9593",e.reelScrollUpTime=.15,e.reelScrollUpRange=.35,e.reelNormalScrollTime=1,e.reelFastScrollTime=.35,e.reelMoveSpeed=4e3,e.reelOmenScrollTime=3,e.reelOmenSpeed=2500,e.omenSpeedMutly=1.5,e.omenSlowTime=.5,e.hasLongWildScrollTime=3,e.reelStartDelayTime=.08,e.reelStopDelayTime=.2,e.reelSlowTime=.2,e.reelReboundTime=.05,e.reelReboundRange=.135,e.dropOutTime=.4,e.dropOutEasing="expoIn",e.dropOutDelayTime=.1,e.dropOutStartIntervalTime=.1,e.dropInTime=.4,e.dropInEasing="sineIn",e.dropInDelayTime=.1,e.dropInStartIntervalTime=.1,e.dropInReboundHeight=.05,e.dropInReboundTime=.05,e.dropInReboundEasingOut="cubicOut",e.dropInReboundEasingIn="cubicIn",e.dropInReboundAngle=5,e.dropInReboundAngleTime=.05,e.reelsList=[],e.isFastMode=!1,e.status=s.IDLE,e.bundlePath="",e.omenMaskOpacity=0,e}return i(e,t),e.prototype.init=function(t){this.bundleName=t.bundleName,this.bundlePath=t.bundlePath,this.createReels(),this.omenMask.active=!1,this.omenMask.zIndex=1,this.omenMaskOpacity=this.omenMask.opacity,this.initSymbolPos()},e.prototype.update=function(){switch(this.status){case s.SCROLL_ING:this.scrolling();break;case s.SCROLL_END:this.scrollEnd();break;case s.RWARD_EFFECTING_ING:this.rewardEffecting();break;case s.RWARD_EFFECTING_END:this.rewardEffectEnd()}},e.prototype.setReelTable=function(t){for(var e=0;e<this.reelCount;e++)this.reelsList[e].setReelTable(t[e])},e.prototype.setReelStartIndex=function(t){for(var e=0;e<this.reelCount;e++)this.reelsList[e].setReelStartIndex(t[e]),this.reelsList[e].allSymbolPlayIdleEffect(),this.reelsList[e].hideOutRangeSymbol()},e.prototype.setAllReelSymbol=function(t){for(var e=0;e<this.reelCount;e++)this.reelsList[e].setAllSymbol(t[e])},e.prototype.scrollAllReels=function(t){var e=0;this.showAllReelSymbol();for(var o=0;o<this.reelsList.length;o++){this.reelsList[o].SetAllSymbolZOrder(0);var n=0,i=this.reelStartDelayTime*o,r=0,c=o*this.dropOutStartIntervalTime,l=(6-o)*this.dropOutStartIntervalTime+o*this.dropInStartIntervalTime;t.hasLongWild&&(r=this.hasLongWildScrollTime),this.isFastMode?(r+=this.reelFastScrollTime,i=0):(r+=this.reelNormalScrollTime+this.reelStopDelayTime*o,t.hasOmenReels[o]&&(e++,n=this.reelOmenScrollTime),e>0&&(r+=this.reelOmenScrollTime*e)),!0===t.isSkipDropOut&&(l=o*this.dropInStartIntervalTime);var p=new a.default;p.tagetSymbolIndex=t.targetSymbolIndex[o],p.scrollStartDelayTime=i,p.scrollingTime=r,p.omenScrollingTime=n,p.rewardTime=t.rewardTime,p.dropOutTime=this.dropOutTime,p.dropOutEasing=this.dropOutEasing,p.dropOutDelayTime=this.dropOutDelayTime,p.dropOutStartDelayTime=c,p.dropInTime=this.dropInTime,p.dropInEasing=this.dropInEasing,p.dropInDelayTime=this.dropInDelayTime,p.dropInStartDelayTime=l,p.dropInReboundHeight=this.dropInReboundHeight,p.dropInReboundTime=this.dropInReboundTime,p.dropInReboundEasingOut=this.dropInReboundEasingOut,p.dropInReboundEasingIn=this.dropInReboundEasingIn,p.dropInReboundAngle=this.dropInReboundAngle,p.dropInReboundAngleTime=this.dropInReboundAngleTime,o<t.reels.length&&(p.reel=t.reels[o]),p.isFreeGame=t.isFreeGame,p.isSkipDropOut=t.isSkipDropOut,this.reelsList[o].scroll(p)}this.hideMaskEffect(),this.status=s.SCROLL_ING},e.prototype.setFastMode=function(){this.isFastMode=!0},e.prototype.setNormalMode=function(){this.isFastMode=!1},e.prototype.stopAllReelScroll=function(){for(var t=0;t<this.reelsList.length;t++)this.reelsList[t].stopScroll()},e.prototype.isReelSrolling=function(){return this.status==s.SCROLL_ING||this.status==s.SCROLL_END},e.prototype.isRewardEffecting=function(){return this.status==s.RWARD_EFFECTING_ING||this.status==s.RWARD_EFFECTING_END},e.prototype.showSymbolReWardEffect=function(t,e){for(var o=0;o<t.length;o++)this.reelsList[o].SetAllSymbolZOrder(0),this.reelsList[o].showSymbolReWardEffect(t[o],e);this.status=s.RWARD_EFFECTING_ING,this.showMaskEffect()},e.prototype.allSymbolPlayIdleEffect=function(){for(var t=0;t<this.reelsList.length;t++)this.reelsList[t].allSymbolPlayIdleEffect();this.status=s.IDLE},e.prototype.SetAllSymbolZOrder=function(t){for(var e=0;e<this.reelsList.length;e++)this.reelsList[e].SetAllSymbolZOrder(t)},e.prototype.getAllSymbolID=function(){for(var t=[],e=0;e<this.reelsList.length;e++)t[e]=this.reelsList[e].getAllSymbolID();return t},e.prototype.hideReelSymbol=function(t){this.reelsList[t].hideAllSymbol()},e.prototype.showAllReelSymbol=function(){this.reelsList.forEach(function(t){t.showAllSymbol()})},e.prototype.showMaskEffect=function(){this.omenMask.active=!0,this.omenMask.stopAllActions(),cc.tween(this.omenMask).to(.1,{opacity:this.omenMaskOpacity},{easing:"cubicIn"}).start()},e.prototype.hideMaskEffect=function(){var t=this;this.omenMask.stopAllActions(),cc.tween(this.omenMask).to(.1,{opacity:0},{easing:"cubicIn"}).call(function(){t.omenMask.active=!1}).start()},e.prototype.setDisplaySymbolCount=function(t){this.reelsList.forEach(function(e,o){e.setDisplaySymbolCount(t[o])})},e.prototype.setSymbolSiblingIndex=function(t){this.reelsList.forEach(function(e){e.setSymbolSiblingIndex(t)})},e.prototype.setReelParent=function(t,e){e.setParent(this.content)},e.prototype.createReels=function(){this.reelsList=[];for(var t=0;t<this.reelCount;t++){var e=cc.instantiate(this.reelPrefab),o=e.getComponent(c.default);this.setReelParent(t,e);var n=this.getReelPosition(t,this.reelCount,this.reelSpacing);e.setPosition(n);var i=new l.default;i.symbolCount=this.symbolCount,i.symbolSpacing=this.symbolSpacing,i.moveSpeed=this.reelMoveSpeed,i.omenMoveSpeed=this.reelOmenSpeed,i.omenSpeedMutly=this.omenSpeedMutly,i.omenSlowTime=this.omenSlowTime,i.reelSlowTime=this.reelSlowTime,i.reboundTime=this.reelReboundTime,i.reelReboundRange=this.reelReboundRange,i.scrollingUpTime=this.reelScrollUpTime,i.scrollingUpRange=this.reelScrollUpRange,i.bundleName=this.bundleName,i.bundlePath=this.bundlePath,i.reelIndex=t,0==cc.isValid(this.reelsOffset[t])&&(this.reelsOffset[t]=cc.Vec2.ZERO),i.reelOffset=this.reelsOffset[t],i.reelMode=this.reelMode,o.init(i),this.reelsList.push(o)}},e.prototype.getReelPosition=function(t,e,o){var n=0;e%2==0&&(n=this.reelPrefab.getContentSize().width/2);var i=t-Math.floor(e/2),r=this.reelPrefab.getContentSize().width+o;return new cc.Vec2(r*i+n,0)},e.prototype.scrolling=function(){if(0==this.omenMask.active)for(var t=0;t<this.reelsList.length;t++)if(this.reelsList[t].isOmening()){for(var e=0;e<t;e++)this.reelsList[e].SetScatterSymbolZOrder(10);this.showMaskEffect()}for(t=0;t<this.reelsList.length;t++)if(this.reelsList[t].isScrolling())return;this.status=s.SCROLL_END},e.prototype.scrollEnd=function(){this.status=s.IDLE,this.hideMaskEffect()},e.prototype.rewardEffecting=function(){for(var t=0;t<this.reelsList.length;t++)if(this.reelsList[t].isRewardEffecting())return;this.status=s.RWARD_EFFECTING_END},e.prototype.rewardEffectEnd=function(){this.status=s.IDLE},e.prototype.initSymbolPos=function(){for(var t=0;t<this.reelsList.length;t++)this.reelsList[t].initSymbolPos()},e.prototype.setSmbolToTop=function(t){for(var e=0;e<t.length;e++)this.reelsList[e].setSmbolToTop(t[e])},e.prototype.setReelOffset=function(t,e){this.reelsList[t].updateReelOffset(e)},r([d({displayName:"\u9810\u5146\u7684\u906e\u7f69",type:cc.Node})],e.prototype,"omenMask",void 0),r([d({displayName:"\u8f2a\u5b50\u7684\u9810\u88fd\u7269",type:cc.Node})],e.prototype,"reelPrefab",void 0),r([d({displayName:"\u8f2a\u5b50\u7684content",type:cc.Node})],e.prototype,"content",void 0),r([d({readonly:!0,displayName:"============ \u3010 \u4ee5\u4e0b\u70ba\u8f2a\u5b50\u8a2d\u5b9a \u3011 ============"})],e.prototype,"tip1String",void 0),r([d({type:l.ReelMode,displayName:"\u8f2a\u5b50\u7684\u6a21\u5f0f"})],e.prototype,"reelMode",void 0),r([d({displayName:"\u8f2a\u5b50\u7684\u6578\u91cf",type:cc.Integer})],e.prototype,"reelCount",void 0),r([d({displayName:"\u8f2a\u5b50\u7684\u9593\u8ddd"})],e.prototype,"reelSpacing",void 0),r([d({displayName:"\u6bcf\u4e00\u8f2a\u7684\u504f\u79fb",type:[cc.Vec2]})],e.prototype,"reelsOffset",void 0),r([d({readonly:!0,displayName:"============ \u3010 \u4ee5\u4e0b\u70ba\u7b26\u865f\u8a2d\u5b9a \u3011 ============="})],e.prototype,"tip2String",void 0),r([d({displayName:"\u7b26\u865f\u7684\u6578\u91cf",type:cc.Integer})],e.prototype,"symbolCount",void 0),r([d({displayName:"\u7b26\u865f\u7684\u9593\u8ddd"})],e.prototype,"symbolSpacing",void 0),r([d({readonly:!0,displayName:"============ \u3010 \u4ee5\u4e0b\u70baspin\u52d5\u756b \u3011 ============="})],e.prototype,"tip3String",void 0),r([d({readonly:!0,displayName:"\u3010 \u6642\u9593\u8aaa\u660e \u3011",multiline:!0,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"tip4String",void 0),r([d({displayName:"\u6efe\u8f2a\u5f80\u4e0a\u6efe\u52d5\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelScrollUpTime",void 0),r([d({displayName:"\u6efe\u8f2a\u5f80\u4e0a\u6efe\u52d5\u5e45\u5ea6",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelScrollUpRange",void 0),r([d({displayName:"\u6efe\u8f2a\u6b63\u5e38\u6efe\u52d5\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelNormalScrollTime",void 0),r([d({displayName:"\u6efe\u8f2a\u9ad8\u901f\u6efe\u52d5\u6642\u9593",type:cc.Float,tooltip:"\u7e3d\u6642\u9593 \uff1d \u9577Wild\u7684\u8868\u6f14\u6642\u9593 + \u6efe\u8f2a\u9ad8\u901f\u6efe\u52d5\u6642\u9593 + \u6efe\u8f2a\u6e1b\u901f\u6642\u9593 + \u6efe\u8f2a\u56de\u5f48\u6642\u9593 \nPS\uff1a\u4e0d\u6703\u6709\u9810\u5146\u6548\u679c",visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelFastScrollTime",void 0),r([d({displayName:"\u6efe\u8f2a\u6efe\u52d5\u901f\u5ea6",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelMoveSpeed",void 0),r([d({displayName:"\u9810\u5146\u6efe\u52d5\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelOmenScrollTime",void 0),r([d({displayName:"\u9810\u5146\u6642\u6efe\u52d5\u901f\u5ea6",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelOmenSpeed",void 0),r([d({displayName:"\u9810\u5146\u6642\u6efe\u52d5\u901f\u5ea6\u7684\u500d\u7387",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"omenSpeedMutly",void 0),r([d({displayName:"\u9810\u5146\u6e1b\u901f\u7684\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"omenSlowTime",void 0),r([d({displayName:"\u9577Wild\u7684\u8868\u6f14\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"hasLongWildScrollTime",void 0),r([d({displayName:"\u8f2a\u5b50\u958b\u59cb\u8f49\u52d5\u9593\u9694",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelStartDelayTime",void 0),r([d({displayName:"\u8f2a\u5b50\u505c\u6b62\u8f49\u52d5\u9593\u9694",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelStopDelayTime",void 0),r([d({displayName:"\u6efe\u8f2a\u6e1b\u901f\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelSlowTime",void 0),r([d({displayName:"\u6efe\u8f2a\u56de\u5f48\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelReboundTime",void 0),r([d({displayName:"\u56de\u5f48\u5e45\u5ea6(0.01~0.9)",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.SCROLL}})],e.prototype,"reelReboundRange",void 0),r([d({displayName:"\u6bcf\u8f2a\u6389\u843d\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropOutTime",void 0),r([d({displayName:"\u6bcf\u8f2a\u6389\u843d\u6642\u9593\u66f2\u7dda",visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropOutEasing",void 0),r([d({displayName:"\u6bcf\u500b\u7b26\u865f\u6389\u843d\u9593\u9694\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropOutDelayTime",void 0),r([d({displayName:"\u6bcf\u8f2a\u6389\u843d\u9593\u9694\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropOutStartIntervalTime",void 0),r([d({displayName:"\u6bcf\u8f2a\u843d\u4e0b\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInTime",void 0),r([d({displayName:"\u6bcf\u8f2a\u843d\u4e0b\u6642\u9593\u66f2\u7dda",visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInEasing",void 0),r([d({displayName:"\u6bcf\u500b\u7b26\u865f\u843d\u4e0b\u9593\u9694\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInDelayTime",void 0),r([d({displayName:"\u6bcf\u8f2a\u843d\u4e0b\u9593\u9694\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInStartIntervalTime",void 0),r([d({displayName:"\u843d\u4e0b\u5f8c\u56de\u5f48\u9ad8\u5ea6",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInReboundHeight",void 0),r([d({displayName:"\u843d\u4e0b\u5f8c\u56de\u5f48\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInReboundTime",void 0),r([d({displayName:"\u843d\u4e0b\u5f8c\u56de\u5f48\u66f2\u7dda(\u51fa)",visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInReboundEasingOut",void 0),r([d({displayName:"\u843d\u4e0b\u5f8c\u56de\u5f48\u66f2\u7dda(\u5165)",visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInReboundEasingIn",void 0),r([d({displayName:"\u843d\u4e0b\u5f8c\u56de\u5f48\u6643\u52d5\u89d2\u5ea6",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInReboundAngle",void 0),r([d({displayName:"\u843d\u4e0b\u5f8c\u56de\u5f48\u6416\u6643\u6642\u9593",type:cc.Float,visible:function(){return this.reelMode===l.ReelMode.DROP}})],e.prototype,"dropInReboundAngleTime",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../Data/Slot_Reel_InitData":"Slot_Reel_InitData","../Data/Slot_Reel_ScrollData":"Slot_Reel_ScrollData","./Slot_Reel":"Slot_Reel"}],Slot_Reel_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"b1bfdwQfTFPqZFf5Y6et1RQ","Slot_Reel_InitData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.Easing=o.ReelMode=void 0;var i=cc._decorator,r=i.ccclass;i.property,o.ReelMode=cc.Enum({SCROLL:0,DROP:1}),o.Easing=cc.Enum({});var s=function(){function t(){this.bundlePath="",this.reelMode=o.ReelMode.SCROLL}return n([r],t)}();o.default=s,cc._RF.pop()},{}],Slot_Reel_ScrollData:[function(t,e,o){"use strict";cc._RF.push(e,"5c1b3+E2ftF1612Sxw18vDR","Slot_Reel_ScrollData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.tagetSymbolIndex=0,this.scrollStartDelayTime=0,this.scrollingTime=0,this.omenScrollingTime=0,this.rewardTime=0,this.reel=[],this.dropOutTime=0,this.dropOutEasing="expoIn",this.dropOutDelayTime=0,this.dropOutStartDelayTime=0,this.dropInTime=0,this.dropInEasing="sineIn",this.dropInDelayTime=0,this.dropInStartDelayTime=0,this.dropInReboundHeight=0,this.dropInReboundTime=0,this.dropInReboundEasingOut="cubicOut",this.dropInReboundEasingIn="cubicIn",this.dropInReboundAngle=0,this.dropInReboundAngleTime=0,this.isFreeGame=!1,this.isSkipDropOut=!1}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_Reel:[function(t,e,o){"use strict";cc._RF.push(e,"e7af9meQnROtLCfLRD4aqXC","Slot_Reel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,a=t("./Slot_Symbol"),c=t("../Data/Slot_Reel_InitData"),l=t("../Data/Slot_Symbol_InitData"),p=t("../../../Common/Tools/AudioManager/AudioManager"),u=t("../../Slot_DataManager"),d=cc._decorator,h=d.ccclass,f=d.property;(function(t){t[t.IDLE=0]="IDLE",t[t.SCROLLING_UP=1]="SCROLLING_UP",t[t.SCROLLING=2]="SCROLLING",t[t.OMEN_SCROLLING=3]="OMEN_SCROLLING",t[t.REBOUND_ALIGNMENT=4]="REBOUND_ALIGNMENT",t[t.SLOWING=5]="SLOWING",t[t.SLOW_WAIT=6]="SLOW_WAIT",t[t.REBOUND=7]="REBOUND",t[t.REBOUND_WAIT=8]="REBOUND_WAIT",t[t.REWARD_EFFECTING=9]="REWARD_EFFECTING",t[t.DROP_OUT_START=10]="DROP_OUT_START",t[t.DROP_OUT_WAIT=11]="DROP_OUT_WAIT",t[t.DROP_IN_START=12]="DROP_IN_START",t[t.DROP_IN_WAIT=13]="DROP_IN_WAIT"})(s||(s={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolPrefab=null,e.omenBackground=null,e.omenEffect=null,e.omenEffectParent=null,e.slowEasing="cubicOut",e.rewardEffectTime=0,e.reelIndex=0,e.symbolsList=[],e.reelTable=[],e.status=s.IDLE,e.moveSpeed=0,e.omenMoveSpeed=0,e.scrollStartDelayTime=0,e.scrollingUpTime=0,e.scrollingUpRange=0,e.scrollingTime=0,e.omenScrollingTime=0,e.reboundTime=0,e.reelSlowTime=0,e.reelReboundRange=0,e.omenReboundAlignmentTime=0,e.omenSpeedMutly=0,e.omenSlowTime=0,e.symbolSpacing=0,e.alignmentDataCount=0,e.tempScrollUpTime=0,e.tempScrollTime=0,e.tempAlignmentDataCount=0,e.tagetSymbolIndex=0,e.nowTopSymbolOrderList=[],e.isShowOmenEffect=!1,e.omenSound=null,e.displaySymbolCount=0,e.tempOmenMoveTime=0,e.tempOmenReboundAlignmentTime=0,e.temprewardEffectTime=0,e.reelOffset=cc.Vec2.ZERO,e.reel=[],e.isFreeGame=!1,e.reelMode=c.ReelMode.SCROLL,e.isSkipDropOut=!1,e.tempDropOutTime=0,e.tempDropInTime=0,e.dropOutTime=0,e.dropOutEasing="expoIn",e.dropOutDelayTime=0,e.dropOutStartDelayTime=0,e.dropInTime=0,e.dropInEasing="sineIn",e.dropInDelayTime=0,e.dropInStartDelayTime=0,e.dropInReboundHeight=0,e.dropInReboundTime=0,e.dropInReboundEasingOut="cubicOut",e.dropInReboundEasingIn="cubicIn",e.dropInReboundAngle=0,e.dropInReboundAngleTime=0,e}var o;return i(e,t),o=e,e.prototype.init=function(t){var e=t.symbolCount+2;this.reelSlowTime=t.reelSlowTime,this.moveSpeed=t.moveSpeed,this.omenMoveSpeed=t.omenMoveSpeed,this.omenSpeedMutly=t.omenSpeedMutly,this.omenSlowTime=t.omenSlowTime,this.reboundTime=t.reboundTime,this.reelReboundRange=t.reelReboundRange,this.symbolSpacing=t.symbolSpacing,this.alignmentDataCount=e-1,this.scrollingUpTime=t.scrollingUpTime,this.scrollingUpRange=t.scrollingUpRange,this.reelOffset=t.reelOffset,this.displaySymbolCount=t.symbolCount,this.reelMode=t.reelMode,this.reelIndex=t.reelIndex;for(var o=0;o<e;o++){var n=cc.instantiate(this.symbolPrefab).getComponent(a.default),i=new l.default;i.bundleName=t.bundleName,i.bundlePath=t.bundlePath,i.reelIndex=t.reelIndex,n.init(i),this.symbolsList.push(n)}for(o=0;o<this.symbolsList.length;o++){var r=this.getSymbolPosition(o);this.symbolsList[o].node.setParent(this.node.parent),this.symbolsList[o].node.setSiblingIndex(0),this.symbolsList[o].node.setPosition(r)}this.setOmenEffectParent(),this.closeOmenEffect(),this.initOmenBackground()},e.prototype.update=function(t){switch(this.status){case s.SCROLLING_UP:this.scrollingUp(t);break;case s.SCROLLING:this.scrolling(t);break;case s.OMEN_SCROLLING:this.omenScrolling(t);break;case s.REBOUND_ALIGNMENT:this.reboundAlignment(t);break;case s.SLOWING:this.slowing();break;case s.REBOUND:this.rebound();break;case s.REWARD_EFFECTING:this.rewardEffecting(t);break;case s.DROP_OUT_START:this.dropOutStart(t);break;case s.DROP_IN_START:this.dropInStart(t)}},e.prototype.scroll=function(t){if(this.tagetSymbolIndex=t.tagetSymbolIndex,this.scrollStartDelayTime=t.scrollStartDelayTime,this.scrollingTime=t.scrollingTime,this.omenScrollingTime=t.omenScrollingTime,this.rewardEffectTime=t.rewardTime,this.reel=t.reel,this.isFreeGame=t.isFreeGame,this.omenScrollingTime>0){var e=this.symbolsList[0].node.getContentSize().height+this.symbolSpacing;this.omenReboundAlignmentTime=e*this.alignmentDataCount/(e/this.omenSlowTime/.5)}this.temprewardEffectTime=0,this.tempScrollTime=0,this.tempAlignmentDataCount=0,this.tempOmenMoveTime=0,this.tempOmenReboundAlignmentTime=0,this.isSkipDropOut=t.isSkipDropOut,this.tempDropOutTime=0,this.tempDropInTime=0,this.dropOutTime=t.dropOutTime,this.dropOutEasing=t.dropOutEasing,this.dropOutDelayTime=t.dropOutDelayTime,this.dropOutStartDelayTime=t.dropOutStartDelayTime,this.dropInTime=t.dropInTime,this.dropInEasing=t.dropInEasing,this.dropInDelayTime=t.dropInDelayTime,this.dropInStartDelayTime=t.dropInStartDelayTime,this.dropInReboundHeight=t.dropInReboundHeight,this.dropInReboundTime=t.dropInReboundTime,this.dropInReboundEasingOut=t.dropInReboundEasingOut,this.dropInReboundEasingIn=t.dropInReboundEasingIn,this.dropInReboundAngle=t.dropInReboundAngle,this.dropInReboundAngleTime=t.dropInReboundAngleTime,this.reelMode===c.ReelMode.SCROLL?this.status=s.SCROLLING_UP:this.reelMode===c.ReelMode.DROP&&(this.isSkipDropOut?(this.status=s.DROP_IN_START,this.hideAllSymbol()):this.status=s.DROP_OUT_START),this.allSymbolPlayScrollingEffect()},e.prototype.setReelTable=function(t){this.reelTable=t},e.prototype.setReelStartIndex=function(t){for(var e=0;e<this.symbolsList.length;e++){var o=Math.floor(this.symbolsList.length/2);this.reelMode!==c.ReelMode.DROP&&this.reelMode!==c.ReelMode.SCROLL||(o+=1);var n=t+e-o;n=this.CorrectionSymbolIndex(n);var i=this.reelTable[n];this.symbolsList[e].setOrder(e),this.symbolsList[e].setData(n,i)}},e.prototype.setAllSymbol=function(t,e){void 0===e&&(e=!1);for(var o=0;o<this.symbolsList.length;o++)for(var n=0;n<this.symbolsList.length;n++)if(this.symbolsList[n].getOrder()==o){var i=this.symbolsList[n].getNowIndex();this.symbolsList[n].setData(i,t[o],e)}},e.prototype.isScrolling=function(){return this.status!=s.IDLE},e.prototype.isOmening=function(){return this.status==s.OMEN_SCROLLING},e.prototype.isRewardEffecting=function(){return this.status==s.REWARD_EFFECTING},e.prototype.stopScroll=function(){if(this.status!=s.IDLE){this.tempAlignmentDataCount=0;for(var t=this.symbolsList.length-1;t>=0;t--){var e=this.symbolsList[t].node.getContentSize().height,o=this.getSymbolPosition(t);o.y+=e+this.symbolSpacing,this.symbolsList[t].node.stopAllActions(),this.symbolsList[t].node.setPosition(o),this.tempAlignmentDataCount++,this.symbolsList[t].setOrder(t),this.changeSymbol(t,!0,this.reel,this.isFreeGame)}this.isShowOmenEffect&&this.closeOmenEffect(),this.playSound(),this.hideOutRangeSymbol(),this.allSymbolPlayIdleEffect(!0),this.status=s.IDLE}},e.prototype.showSymbolReWardEffect=function(t,e){for(var o=0;o<t.length;o++)if(1==t[o])for(var n=0;n<this.symbolsList.length;n++)this.symbolsList[n].getOrder()-2==o&&(this.symbolsList[n].setZOrder(10),this.symbolsList[n].playRewardEffect(e));this.status=s.REWARD_EFFECTING},e.prototype.allSymbolPlayIdleEffect=function(t){void 0===t&&(t=!1);for(var e=0;e<this.symbolsList.length;e++)t?this.symbolsList[e].stopScrollSetZOrder():this.symbolsList[e].setZOrder(0),this.symbolsList[e].playIdleEffect()},e.prototype.SetAllSymbolZOrder=function(t){for(var e=0;e<this.symbolsList.length;e++)this.symbolsList[e].setZOrder(t)},e.prototype.SetScatterSymbolZOrder=function(t){for(var e=0;e<this.symbolsList.length;e++)this.symbolsList[e].getSymbolID()==u.SYMBOL_NAME.Scatter&&this.symbolsList[e].setZOrder(t)},e.prototype.getAllSymbolID=function(){for(var t=[],e=0;e<this.symbolsList.length;e++)for(var o=0;o<this.symbolsList.length;o++)this.symbolsList[o].getOrder()==e&&(t[e]=this.symbolsList[o].getSymbolID());return t},e.prototype.hideAllSymbol=function(){this.symbolsList.forEach(function(t){t.node.opacity=0})},e.prototype.showAllSymbol=function(){this.symbolsList.forEach(function(t){t.node.opacity=255})},e.prototype.hideOutRangeSymbol=function(t){var e=this;void 0===t&&(t=!1),this.symbolsList.forEach(function(o){t?o.getOrder()<Math.ceil((e.symbolsList.length-e.displaySymbolCount)/2)?o.node.opacity=0:o.getOrder()>=e.symbolsList.length-Math.floor((e.symbolsList.length-e.displaySymbolCount)/2)&&(o.node.opacity=0):o.getOrder()<e.symbolsList.length-e.displaySymbolCount&&(o.node.opacity=0)})},e.prototype.setDisplaySymbolCount=function(t){this.displaySymbolCount=t},e.prototype.setSymbolSiblingIndex=function(t){var e=this;this.symbolsList.forEach(function(o){t?o.node.setSiblingIndex(o.getOrder()):o.node.setSiblingIndex(e.symbolsList.length-o.getOrder())})},e.prototype.initOmenBackground=function(){this.omenBackground.setParent(this.node.parent),this.omenBackground.setPosition(new cc.Vec2(this.node.position.x,this.node.position.y)),this.omenBackground.active=!1,this.omenBackground.zIndex=2},e.prototype.moveSymbol=function(t,e){this.symbolsList[t].node.y-=this.moveSpeed*e},e.prototype.omenMoveSymbol=function(t,e){var o=(this.symbolsList[0].node.getContentSize().height+this.symbolSpacing)/this.omenSlowTime,n=this.omenScrollingTime-this.omenReboundAlignmentTime-this.omenSlowTime,i=this.omenSpeedMutly*this.omenMoveSpeed*e*Math.abs(n-this.tempOmenMoveTime)/n+1*o*e*(1-this.tempOmenReboundAlignmentTime/this.omenReboundAlignmentTime)+o*e;this.symbolsList[t].node.y-=i},e.prototype.hasWild=function(){for(var t=this.getSymbolPosition(1).y,e=0;e<this.symbolsList.length;e++)if(this.symbolsList[e].node.y<=t&&this.symbolsList[e].getSymbolID()==u.SYMBOL_NAME.Wild)return!0;return!1},e.prototype.hasScatter=function(){for(var t=this.getSymbolPosition(1).y,e=0;e<this.symbolsList.length;e++)if(this.symbolsList[e].node.y<=t&&this.symbolsList[e].getSymbolID()==u.SYMBOL_NAME.Scatter)return!0;return!1},e.prototype.isSymbolOverButtom=function(t){var e=-this.node.getContentSize().height/2-(this.symbolsList[t].node.getContentSize().height+this.symbolSpacing)/2;return e+=this.reelOffset.y,this.symbolsList[t].node.y<e},e.prototype.symbolToTopPosition=function(t){var e=(this.symbolsList[t].node.getContentSize().height+this.symbolSpacing)*this.symbolsList.length;this.symbolsList[t].node.y+=e},e.prototype.changeSymbol=function(t,e,o,n){void 0===o&&(o=[]),void 0===n&&(n=!1);var i=0;if(o.length>0){var r=o;this.reelMode!==c.ReelMode.DROP&&this.reelMode!==c.ReelMode.SCROLL||(r=[1,1].concat(o));for(var s=0;s<this.symbolsList.length;s++)if(this.symbolsList[s].getOrder()==t){var a=this.symbolsList[s].getNowIndex();this.symbolsList[s].setData(a,r[t],n)}}else{if(e){var l=Math.floor(this.alignmentDataCount/2);i=this.tagetSymbolIndex+l-this.tempAlignmentDataCount,i=this.CorrectionSymbolIndex(i)}else{var p=t-(this.symbolsList.length-1);p<0&&(p+=this.symbolsList.length),i=this.symbolsList[p].getNowIndex()-1,i=this.CorrectionSymbolIndex(i)}var u=this.reelTable[i];this.symbolsList[t].setData(i,u)}},e.prototype.CorrectionSymbolIndex=function(t){for(var e=t;e<0;)e+=this.reelTable.length;for(;e>=this.reelTable.length;)e-=this.reelTable.length;return e},e.prototype.showOmenEffect=function(){this.isShowOmenEffect=!0,this.omenEffect.active=!0,this.omenBackground.active=!0;for(var t=0;t<this.symbolsList.length;t++)this.symbolsList[t].setZOrder(10)},e.prototype.closeOmenEffect=function(){this.stopOmenScrollingSound(),this.isShowOmenEffect=!1,this.omenEffect.active=!1,this.omenBackground.active=!1},e.prototype.allSymbolPlayScrollingEffect=function(){for(var t=0;t<this.symbolsList.length;t++)this.symbolsList[t].playScrollingEffect()},e.prototype.setOmenEffectParent=function(){var t=this.omenEffect.convertToWorldSpaceAR(this.omenEffect.position);t=this.omenEffectParent.convertToNodeSpaceAR(t),this.omenEffect.setParent(this.omenEffectParent),this.omenEffect.setPosition(t)},e.prototype.playSound=function(){0==o.isReelStopSoundCD&&(o.isReelStopSoundCD=!0,this.playReelStopSound(),cc.tween(this.node).delay(.1).call(function(){o.isReelStopSoundCD=!1}).start()),this.hasWild()&&0==o.isWildSoundCD&&(o.isWildSoundCD=!0,this.playWildSound(),cc.tween(this.node).delay(.1).call(function(){o.isWildSoundCD=!1}).start()),this.hasScatter()&&0==o.isScatterSoundCD&&(o.isScatterSoundCD=!0,this.playScatterSound(),cc.tween(this.node).delay(.1).call(function(){o.isScatterSoundCD=!1}).start())},e.prototype.scrollingUp=function(t){if(this.tempScrollTime+=t,this.tempScrollTime>=this.scrollStartDelayTime){for(var e=(this.symbolsList[0].node.height+this.symbolSpacing)*this.scrollingUpRange*(t/this.scrollingUpTime),o=0;o<this.symbolsList.length;o++)this.symbolsList[o].node.y+=e;this.tempScrollTime>this.scrollStartDelayTime+this.scrollingUpTime&&(this.status=s.SCROLLING)}},e.prototype.scrolling=function(t){if(this.tempScrollTime+=t,this.tempScrollTime>=this.scrollStartDelayTime){for(var e=0;e<this.symbolsList.length;e++)this.moveSymbol(e,t),this.isSymbolOverButtom(e)&&(this.symbolToTopPosition(e),this.changeSymbol(e,!1));this.tempScrollTime>this.scrollingTime-this.omenScrollingTime&&(this.omenScrollingTime>0?(this.playOmenScrollingSound(),this.status=s.OMEN_SCROLLING):this.status=s.REBOUND_ALIGNMENT)}},e.prototype.omenScrolling=function(t){if(this.tempScrollTime+=t,this.tempOmenMoveTime+=t,0==this.isShowOmenEffect&&this.showOmenEffect(),this.tempScrollTime>=this.scrollStartDelayTime){for(var e=0;e<this.symbolsList.length;e++)this.omenMoveSymbol(e,t),this.isSymbolOverButtom(e)&&(this.symbolToTopPosition(e),this.changeSymbol(e,!1));this.tempScrollTime>this.scrollingTime-(this.omenReboundAlignmentTime+this.omenSlowTime)&&(this.status=s.REBOUND_ALIGNMENT)}},e.prototype.reboundAlignment=function(t){if(this.tempAlignmentDataCount<this.alignmentDataCount){this.tempScrollTime+=t;for(var e=[],o=[],n=0;n<this.symbolsList.length;n++)this.omenScrollingTime>0?(0==n&&(this.tempOmenReboundAlignmentTime+=t,this.tempOmenReboundAlignmentTime>this.omenReboundAlignmentTime&&(this.tempOmenReboundAlignmentTime=this.omenReboundAlignmentTime)),this.omenMoveSymbol(n,t)):this.moveSymbol(n,t),this.isSymbolOverButtom(n)&&(e.push(n),o.push(this.symbolsList[n].node.y));for(n=0;n<o.length-1;n++)for(var i=n+1;i<o.length;i++)if(o[n]>o[i]){var r=o[n];o[n]=o[i],o[i]=r,r=e[n],e[n]=e[i],e[i]=r}for(n=0;n<e.length;n++)this.tempAlignmentDataCount<this.alignmentDataCount&&(this.nowTopSymbolOrderList[this.tempAlignmentDataCount]=e[n],this.tempAlignmentDataCount++,this.symbolToTopPosition(e[n]),this.changeSymbol(e[n],!0))}else this.status=s.SLOWING,this.slowing()},e.prototype.slowing=function(){var t=this;this.status=s.SLOW_WAIT;for(var e=0,o="",n=0;n<this.nowTopSymbolOrderList.length;n++){var i=this.nowTopSymbolOrderList[n],r=this.getSymbolPosition(this.nowTopSymbolOrderList.length-n-1);if(this.symbolsList[i].setOrder(this.nowTopSymbolOrderList.length-n),this.omenScrollingTime>0){o="linear";var a=this.symbolsList[0].node.getContentSize().height+this.symbolSpacing,c=Math.abs(r.y-this.symbolsList[i].node.y)/a;e=this.omenSlowTime*c}else o=this.slowEasing,r.y-=(this.symbolsList[0].node.height+this.symbolSpacing)*this.reelReboundRange,e=this.reelSlowTime;cc.tween(this.symbolsList[i].node).to(e,{position:cc.v3(r)},{easing:o}).call(function(){t.status=s.REBOUND}).start()}var l=-1;for(n=0;n<this.symbolsList.length;n++){for(var p=!1,u=0;u<this.nowTopSymbolOrderList.length;u++)n==this.nowTopSymbolOrderList[u]&&(p=!0);0==p&&(l=n)}var d=this.symbolsList[0].node.getContentSize().height,h=this.getSymbolPosition(0);h.y+=d+this.symbolSpacing;var f=this.getSymbolPosition(this.symbolsList.length-1);cc.tween(this.symbolsList[l].node).to(e,{position:cc.v3(f)},{easing:o}).call(function(){t.symbolsList[l].node.setPosition(h),t.symbolsList[l].setOrder(0),t.changeSymbol(l,!1)}).start()},e.prototype.rebound=function(){var t=this;this.status=s.REBOUND_WAIT;for(var e=0;e<this.nowTopSymbolOrderList.length;e++){var o=this.nowTopSymbolOrderList[e],n=this.getSymbolPosition(this.nowTopSymbolOrderList.length-e-1);this.omenScrollingTime>0?(this.closeOmenEffect(),this.status=s.IDLE,this.allSymbolPlayIdleEffect(!0),this.hideOutRangeSymbol(),this.playSound()):cc.tween(this.symbolsList[o].node).call(function(){t.playSound()}).to(this.reboundTime,{position:cc.v3(n)},{easing:"sineIn"}).call(function(){t.status=s.IDLE,t.allSymbolPlayIdleEffect(!0),t.hideOutRangeSymbol()}).start()}},e.prototype.rewardEffecting=function(t){this.temprewardEffectTime+=t,this.temprewardEffectTime>this.rewardEffectTime&&(this.status=s.IDLE,this.temprewardEffectTime=0)},e.prototype.getSymbolOrder=function(t){for(var e=0;e<this.symbolsList.length;e++)if(this.symbolsList[e].getOrder()==t)return e;return cc.error("\u53d6\u7b26\u865f\u9806\u5e8f\u6709\u554f\u984c \u9019\u4e0d\u61c9\u8a72\u51fa\u73fe "+t),-1},e.prototype.getSymbolPosition=function(t){var e=0,o=this.symbolsList.length;o%2==0&&(e=-this.symbolPrefab.getContentSize().height/2);var n=-(t-Math.floor(o/2)),i=this.symbolPrefab.getContentSize().height+this.symbolSpacing,r=new cc.Vec2(0,i*n+e);return(r=r.add(new cc.Vec2(this.node.position.x,this.node.position.y))).add(new cc.Vec2(this.reelOffset.x,this.reelOffset.y))},e.prototype.playReelStopSound=function(){p.AudioManager.instance.playAudioEvent("ReelStop")},e.prototype.playOmenScrollingSound=function(){p.AudioManager.instance.playAudioEvent("ScrollingOmen")},e.prototype.playWildSound=function(){p.AudioManager.instance.playAudioEvent("WildSound")},e.prototype.playScatterSound=function(){p.AudioManager.instance.playAudioEvent("ScatterSound")},e.prototype.stopOmenScrollingSound=function(){cc.isValid(this.omenSound)&&cc.audioEngine.stop(this.omenSound)},e.prototype.setSmbolToTop=function(t){this.SetAllSymbolZOrder(0);for(var e=0;e<t.length;e++)if(1==t[e])for(var o=0;o<this.symbolsList.length;o++)this.symbolsList[o].getOrder()-2==e&&this.symbolsList[o].setZOrder(10)},e.prototype.initSymbolPos=function(){for(var t=this.symbolsList.length-1;t>=0;t--){var e=this.symbolsList[t].node.getContentSize().height;this.symbolsList[t].node.y+=e+this.symbolSpacing}},e.prototype.dropOutStart=function(t){var e=this;if(this.tempDropOutTime+=t,!(this.tempDropOutTime<this.dropOutStartDelayTime)){this.status=s.DROP_OUT_WAIT;for(var o=function(t){var o=(n.symbolsList[t].node.getContentSize().height+n.symbolSpacing)*n.symbolsList.length,i=n.getSymbolPosition(t);i.y-=o,n.symbolsList[t].getOrder()>=2&&cc.tween(n.symbolsList[t].node).delay((n.symbolsList.length-n.symbolsList[t].getOrder())*n.dropOutDelayTime).to(n.dropOutTime,{position:cc.v3(i)},{easing:n.dropOutEasing}).call(function(){2==e.symbolsList[t].getOrder()&&(e.status=s.DROP_IN_START)}).start()},n=this,i=0;i<this.symbolsList.length;i++)o(i)}},e.prototype.dropInStart=function(t){var e=this;if(this.tempDropInTime+=t,!(this.tempDropInTime<this.dropInStartDelayTime)){this.status=s.DROP_IN_WAIT,this.tempAlignmentDataCount=0;for(var o=function(t){var o=n.symbolsList[t].node.getContentSize().height,i=n.getSymbolPosition(t),r=(o+n.symbolSpacing)*n.symbolsList.length,a=Math.random()>.5?n.dropInReboundAngle:-n.dropInReboundAngle,c=.5*n.dropInReboundTime,l=cc.v3(0,-n.dropInReboundHeight),p=cc.v3(0,+n.dropInReboundHeight),u=.5*n.dropInReboundAngleTime;i.y+=o+n.symbolSpacing,n.symbolsList[t].node.stopAllActions(),n.symbolsList[t].node.setPosition(i.x,i.x+r),n.symbolsList[t].node.opacity=255,n.tempAlignmentDataCount++,n.symbolsList[t].setOrder(t),n.changeSymbol(t,!0,n.reel,n.isFreeGame),n.allSymbolPlayIdleEffect(!0),cc.tween(n.symbolsList[t].node).delay((n.symbolsList.length-t)*n.dropInDelayTime).to(n.dropInTime,{position:cc.v3(i.x,i.y)},{easing:n.dropInEasing}).parallel(cc.tween().sequence(cc.tween().by(c,{position:l},{easing:n.dropInReboundEasingOut}),cc.tween().by(c,{position:p},{easing:n.dropInReboundEasingIn})),cc.tween().sequence(cc.tween().by(u,{angle:a},{easing:n.dropInReboundEasingOut}),cc.tween().by(u,{angle:-a},{easing:n.dropInReboundEasingIn}))).call(function(){2==t&&(e.status=s.IDLE,e.hideOutRangeSymbol())}).start()},n=this,i=this.symbolsList.length-1;i>=0;i--)o(i)}},e.prototype.updateReelOffset=function(t){this.reelOffset=t},e.isReelStopSoundCD=!1,e.isWildSoundCD=!1,e.isScatterSoundCD=!1,r([f(cc.Node)],e.prototype,"symbolPrefab",void 0),r([f(cc.Node)],e.prototype,"omenBackground",void 0),r([f(cc.Node)],e.prototype,"omenEffect",void 0),r([f(cc.Node)],e.prototype,"omenEffectParent",void 0),r([f(cc.String)],e.prototype,"slowEasing",void 0),o=r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../../Common/Tools/AudioManager/AudioManager":void 0,"../../Slot_DataManager":"Slot_DataManager","../Data/Slot_Reel_InitData":"Slot_Reel_InitData","../Data/Slot_Symbol_InitData":"Slot_Symbol_InitData","./Slot_Symbol":"Slot_Symbol"}],Slot_RulePanel:[function(t,e,o){"use strict";cc._RF.push(e,"71494p0t+VKQLMqff4NrIXG","Slot_RulePanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.STATUS=void 0;var s,a=cc._decorator,c=a.ccclass,l=a.property;(function(t){t[t.IDLE=0]="IDLE",t[t.CHANGE_PAGE=1]="CHANGE_PAGE",t[t.SLIDING=2]="SLIDING"})(s=o.STATUS||(o.STATUS={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextPageButton=null,e.prePageButton=null,e.rulePages=[],e.oddsLabelGroup=[],e.oddsTitleLabelGroup=[],e.nowPageIndex=0,e.startPosX=0,e.endPosX=0,e.status=s.IDLE,e.data=null,e}return i(e,t),e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.init=function(){for(var t=0;t<this.rulePages.length;t++)this.rulePages[t].active=!1;this.rulePages[0].active=!0,this.setNextPageButtonSwitch(),this.setPrePageButtonSwitch(),this.node.active=!1,this.initMagnification()},e.prototype.start=function(){},e.prototype.open=function(){this.node.setPosition(new cc.Vec2(0,0)),this.node.active=!0},e.prototype.close=function(){this.node.active=!1},e.prototype.onNextRulePage=function(){var t=this;this.status!=s.CHANGE_PAGE&&(this.status=s.CHANGE_PAGE,this.nowPageIndex++,this.rulePages[this.nowPageIndex-1].setPosition(0,0),this.rulePages[this.nowPageIndex].setPosition(this.node.getContentSize().width,0),this.rulePages[this.nowPageIndex-1].active=!0,this.rulePages[this.nowPageIndex].active=!0,cc.tween(this.rulePages[this.nowPageIndex-1]).to(.25,{position:cc.v2(-this.node.getContentSize().width,0)}).start(),cc.tween(this.rulePages[this.nowPageIndex]).to(.25,{position:cc.v2(0,0)}).call(function(){for(var e=0;e<t.rulePages.length;e++)t.rulePages[e].active=!1;t.rulePages[t.nowPageIndex].active=!0,t.setNextPageButtonSwitch(),t.setPrePageButtonSwitch(),t.status=s.IDLE}).start())},e.prototype.onPreRulePage=function(){var t=this;this.status!=s.CHANGE_PAGE&&(this.status=s.CHANGE_PAGE,this.nowPageIndex--,this.rulePages[this.nowPageIndex+1].setPosition(0,0),this.rulePages[this.nowPageIndex].setPosition(-this.node.getContentSize().width,0),this.rulePages[this.nowPageIndex+1].active=!0,this.rulePages[this.nowPageIndex].active=!0,cc.tween(this.rulePages[this.nowPageIndex+1]).to(.25,{position:cc.v2(this.node.getContentSize().width,0)}).start(),cc.tween(this.rulePages[this.nowPageIndex]).to(.25,{position:cc.v2(0,0)}).call(function(){for(var e=0;e<t.rulePages.length;e++)t.rulePages[e].active=!1;t.rulePages[t.nowPageIndex].active=!0,t.setNextPageButtonSwitch(),t.setPrePageButtonSwitch(),t.status=s.IDLE}).start())},e.prototype.setPrePageButtonSwitch=function(){0==this.nowPageIndex?this.prePageButton.active=!1:this.prePageButton.active=!0},e.prototype.setNextPageButtonSwitch=function(){this.nowPageIndex==this.rulePages.length-1?this.nextPageButton.active=!1:this.nextPageButton.active=!0},e.prototype.initMagnification=function(){for(var t=0;t<this.oddsLabelGroup.length;t++){var e=this.oddsLabelGroup[t],o=parseInt(e.node.name.split("_")[1]);this.changeMagnification(o,t)}},e.prototype.changeMagnification=function(t,e){for(var o=Object.keys(this.data.magnificationTable[t]).sort(function(t,e){return Number(e)-Number(t)}),n="",i="",r=0;r<o.length;r++)n=n+""+o[r],i=i+""+this.data.magnificationTable[t][o[r]],r<o.length-1&&(n+="\n",i+="\n");null!=this.oddsTitleLabelGroup[e]&&(this.oddsTitleLabelGroup[e].string=n),null!=this.oddsLabelGroup[e]&&(this.oddsLabelGroup[e].string=i)},e.prototype.onTouchStart=function(t){this.status!=s.CHANGE_PAGE&&(this.status=s.SLIDING,this.startPosX=this.node.convertToNodeSpaceAR(t.getLocation()).x)},e.prototype.onTouchEnd=function(t){if(this.status==s.SLIDING){this.endPosX=this.node.convertToNodeSpaceAR(t.getLocation()).x;var e=this.endPosX-this.startPosX,o=this.node.getContentSize().width/5;e<-o&&this.nowPageIndex<this.rulePages.length-1?this.onNextRulePage():e>o&&this.nowPageIndex>0?this.onPreRulePage():this.status=s.IDLE}},e.prototype.onTouchCancel=function(t){this.onTouchEnd(t)},r([l(cc.Node)],e.prototype,"nextPageButton",void 0),r([l(cc.Node)],e.prototype,"prePageButton",void 0),r([l([cc.Node])],e.prototype,"rulePages",void 0),r([l([cc.Label])],e.prototype,"oddsLabelGroup",void 0),r([l([cc.Label])],e.prototype,"oddsTitleLabelGroup",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{}],Slot_SocketConnect:[function(t,e,o){"use strict";cc._RF.push(e,"762dfgMvj5KFJ5Ft+5ILR8I","Slot_SocketConnect");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s},i=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function s(t){try{c(n.next(t))}catch(e){r(e)}}function a(t){try{c(n.throw(t))}catch(e){r(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var o,n,i,r,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(t){return function(e){return c([t,e])}}function c(r){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,n=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){s.label=r[1];break}if(6===r[0]&&s.label<i[1]){s.label=i[1],i=r;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(r);break}i[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(a){r=[6,a],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.Slot_SocketConnect=void 0;var s=t("../../../Common/Tools/Localization/LocalizationManager"),a=t("../../../Common/Tools/SceneManager/SceneManager"),c=cc._decorator,l=c.ccclass,p=(c.property,function(){function t(){var t=this;this.offlineEvent=function(){t.showErrorMessage()},this.reconnectEvent=function(){},this.disconnectEvent=function(){t.popupManager.ynDialogBox.hide(),t.showErrorMessage()},this.idelDisconnectEvent=function(){t.showErrorMessage()},this.responseTimeEvent=function(){},this.errorGetNewToken=function(){return i(t,void 0,Promise,function(){var t,e=this;return r(this,function(o){switch(o.label){case 0:return[4,this.socketManager.getNowGameUrl().catch(function(t){cc.log("get new token fail",t),e.popupManager.confirmSystemMsgDialogBox.show(s.default.getInstance().get("ERROR_CONNECTION"),function(){return window.location.reload()})})];case 1:return t=o.sent(),a.SceneManager.changeURLsToken("?"+t.url.split("?")[1]),window.location.reload(),[2]}})})},this.connectEvent=function(e){t.dataManager.setLoginData(e),cc.log("GameClient.LoginRes",e),cc.director.loadScene("G"+t.dataManager.gameID+"_Lobby")},this.errorBackToLobbyEvent=function(){cc.log("BackToLobby"),cc.director.preloadScene("G"+t.dataManager.gameID+"_Lobby",function(){cc.director.loadScene("G"+t.dataManager.gameID+"_Lobby")})}}return t.prototype.init=function(){this.socketManager.setOfflineCallback(this.offlineEvent),this.socketManager.setReconnectCallback(this.reconnectEvent),this.socketManager.setDisconnectCallback(this.disconnectEvent),this.socketManager.setIdelDisconnectCallback(this.idelDisconnectEvent),this.socketManager.setResponseTimeCallback(this.responseTimeEvent),this.socketManager.setErrorGetNewToken(this.errorGetNewToken),this.socketManager.setConnectCallback(this.connectEvent),this.socketManager.setErrorBackToLobby(this.errorBackToLobbyEvent)},t.prototype.showErrorMessage=function(){var t=this,e=s.default.getInstance().get("ERROR_SOCKET_TIME_OUT");this.popupManager.confirmSystemMsgDialogBox.show(e,function(){t.socketManager.login()},cc.macro.TextAlignment.CENTER)},n([l],t)}());o.Slot_SocketConnect=p,cc._RF.pop()},{"../../../Common/Tools/Localization/LocalizationManager":void 0,"../../../Common/Tools/SceneManager/SceneManager":void 0}],Slot_SocketManager:[function(t,e,o){"use strict";cc._RF.push(e,"0c1f3gO9bVBxbv8vz+jQxYU","Slot_SocketManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Tools/Base/BaseSocketManager"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(){},r([c],e)}(s.default));o.default=l,cc._RF.pop()},{"../../../Common/Tools/Base/BaseSocketManager":void 0}],Slot_SymbolTipPanel:[function(t,e,o){"use strict";cc._RF.push(e,"2794aCjHyVJJIeHzH2LbxLy","Slot_SymbolTipPanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../Common/Tools/AudioManager/AudioManager"),a=t("../../Slot_DataManager"),c=t("../Data/Slot_Symbol_InitData"),l=t("../view/Slot_Symbol"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(){function t(){this.tipNode=null,this.tipFrameNode=null,this.tipLabelNode=null}return r([d(cc.Node)],t.prototype,"tipNode",void 0),r([d(cc.Node)],t.prototype,"tipFrameNode",void 0),r([d(cc.Node)],t.prototype,"tipLabelNode",void 0),r([u("SymbolTipType")],t)}(),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.longWildTip=new h,e.wildTip=new h,e.scatterTip=new h,e.defaultTip=new h,e.defaulTipLabel=null,e.defaulTipCombotLabel=null,e.defaulTipSymbol=null,e.wildSymbol=null,e.scatterSymbol=null,e.data=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.init=function(){this.closeAllTip();var t=new c.default;t.bundleName="G"+this.data.gameID,t.bundlePath=""+this.data.path,this.defaulTipSymbol.init(t),this.wildSymbol.init(t),this.scatterSymbol.init(t),this.node.active=!1},e.prototype.open=function(t,e){this.closeAllTip(),this.node.active=!0,this.node.setPosition(cc.Vec2.ZERO);var o=this.getSymbolTip(t);e=this.node.convertToNodeSpaceAR(e),this.showTip(o,e),o==this.defaultTip&&this.changeMagnification(t),o!=this.longWildTip&&this.changeSymbolSpite(t),s.AudioManager.instance.playAudioEvent("OpenSymbolTip")},e.prototype.close=function(){this.closeAllTip(),this.node.active=!1},e.prototype.showTip=function(t,e){var o=e.x>-50;t.tipNode.active=!0,t.tipNode.position=e;var n=t.tipLabelNode.position,i=t.tipFrameNode.position;o?(t.tipLabelNode.position=new cc.Vec3(-Math.abs(n.x),n.y,n.z),t.tipFrameNode.position=new cc.Vec3(-Math.abs(i.x),i.y,i.z)):(t.tipLabelNode.position=new cc.Vec3(Math.abs(n.x),n.y,n.z),t.tipFrameNode.position=new cc.Vec3(Math.abs(i.x),i.y,i.z))},e.prototype.getSymbolTip=function(t){return t==a.SYMBOL_NAME.LongWild?this.longWildTip:t==a.SYMBOL_NAME.Wild?this.wildTip:t==a.SYMBOL_NAME.Scatter?this.scatterTip:this.defaultTip},e.prototype.changeMagnification=function(t){for(var e=Object.keys(this.data.magnificationTable[t]).sort(function(t,e){return Number(e)-Number(t)}),o="",n="",i=0;i<e.length;i++)o=o+""+e[i],n=n+""+this.data.magnificationTable[t][e[i]],i<e.length-1&&(o+="\n",n+="\n");null!=this.defaulTipCombotLabel&&(this.defaulTipCombotLabel.string=o),this.defaulTipLabel.string=n},e.prototype.changeSymbolSpite=function(t){var e=null;(e=t==a.SYMBOL_NAME.Wild?this.wildSymbol:t==a.SYMBOL_NAME.Scatter?this.scatterSymbol:this.defaulTipSymbol).node.active=!1,e.setData(0,t),setTimeout(function(){e.node.active=!0,e.playRewardOnce()},20)},e.prototype.closeAllTip=function(){cc.isValid(this.longWildTip.tipNode)&&(this.longWildTip.tipNode.active=!1),cc.isValid(this.wildTip.tipNode)&&(this.wildTip.tipNode.active=!1),cc.isValid(this.scatterTip.tipNode)&&(this.scatterTip.tipNode.active=!1),cc.isValid(this.defaultTip.tipNode)&&(this.defaultTip.tipNode.active=!1)},r([d(h)],e.prototype,"longWildTip",void 0),r([d(h)],e.prototype,"wildTip",void 0),r([d(h)],e.prototype,"scatterTip",void 0),r([d(h)],e.prototype,"defaultTip",void 0),r([d(cc.Label)],e.prototype,"defaulTipLabel",void 0),r([d(cc.Label)],e.prototype,"defaulTipCombotLabel",void 0),r([d(l.default)],e.prototype,"defaulTipSymbol",void 0),r([d(l.default)],e.prototype,"wildSymbol",void 0),r([d(l.default)],e.prototype,"scatterSymbol",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../Common/Tools/AudioManager/AudioManager":void 0,"../../Slot_DataManager":"Slot_DataManager","../Data/Slot_Symbol_InitData":"Slot_Symbol_InitData","../view/Slot_Symbol":"Slot_Symbol"}],Slot_Symbol_InitData:[function(t,e,o){"use strict";cc._RF.push(e,"d4e5fXrkd1AS4AGAZSSpDYb","Slot_Symbol_InitData");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,r=i.ccclass,s=(i.property,function(){function t(){this.bundlePath=""}return n([r],t)}());o.default=s,cc._RF.pop()},{}],Slot_Symbol:[function(t,e,o){"use strict";cc._RF.push(e,"5666dibNiZK85irbt6HUFOx","Slot_Symbol");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../Slot_DataManager"),a=cc._decorator,c=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.symbolSpine=null,e.nowIndex=0,e.order=0,e.symbolID=-1,e.spineAnimationName="",e.bundleName="",e.bundlePath="",e}return i(e,t),e.prototype.showSymbolTip=function(){var t=this.node.parent.parent.parent.convertToWorldSpaceAR(this.node.position);cc.systemEvent.emit("ShowSymbolTipEvent",this.symbolID,t)},e.prototype.init=function(t){this.bundleName=t.bundleName,this.bundlePath=t.bundlePath,this.setSymbolSpineMix()},e.prototype.setSize=function(t){this.node.setContentSize(t.x,t.y)},e.prototype.setData=function(t,e,o){var n=this;void 0===o&&(o=!1);var i=this.getSymbolSpinePath(e);this.nowIndex=t,this.symbolID=e,this.spineAnimationName="stop",cc.assetManager.getBundle(this.bundleName).load(i,sp.SkeletonData,function(t,e){t||(n.symbolSpine.skeletonData=e,n.symbolSpine.setAnimation(0,n.spineAnimationName,!0),n.setSymbolSize())})},e.prototype.setSymbolSize=function(){},e.prototype.getNowIndex=function(){return this.nowIndex},e.prototype.playRewardOnce=function(){},e.prototype.playScrollingEffect=function(){cc.log("\u8868\u6f14\u6efe\u52d5\u4e2d\u6548\u679c")},e.prototype.playRewardEffect=function(){cc.log("\u8868\u6f14\u4e2d\u734e\u6548\u679c")},e.prototype.playIdleEffect=function(){cc.log("\u8868\u6f14\u5f85\u6a5f\u6548\u679c")},e.prototype.stopScrollSetZOrder=function(){this.symbolID==s.SYMBOL_NAME.Scatter?this.setZOrder(10):this.setZOrder(0)},e.prototype.setOrder=function(t){this.order=t},e.prototype.getOrder=function(){return this.order},e.prototype.setZOrder=function(t){this.node.zIndex=t},e.prototype.getSymbolID=function(){return this.symbolID},e.prototype.getSymbolSpinePath=function(){return cc.error("\u9019\u908a\u81ea\u5df1\u7e7c\u627f\u8986\u5beb \u6c92\u4eba\u77e5\u9053\u4f60\u7684Spine\u4f4d\u7f6e\u5728\u54ea"),""},e.prototype.setSymbolSpineMix=function(){for(var t=Object.keys(this.symbolSpine.skeletonData.skeletonJson.animations),e=0;e<t.length;e++){var o=t[e].split("_");if(2==o.length){var n=o[0];this.symbolSpine.setMix(n+"_play_normal",n+"_play_normal",.5),this.symbolSpine.setMix(n+"_play_normal",n+"_stop",.5),this.symbolSpine.setMix(n+"_play_win",n+"_play_normal",.5)}}},r([l(sp.Skeleton)],e.prototype,"symbolSpine",void 0),r([c],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../Slot_DataManager":"Slot_DataManager"}],Slot_WaitingDialogBox:[function(t,e,o){"use strict";cc._RF.push(e,"70d34DZymlNwKcQfFIqU9Mm","Slot_WaitingDialogBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.Slot_WaitingDialogBox=void 0;var s=t("../../../../Common/Tools/DynamicPopUp/DialogBox/BaseWaitingDialogBox"),a=cc._decorator,c=a.ccclass,l=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([c],e)}(s.default));o.Slot_WaitingDialogBox=l,cc._RF.pop()},{"../../../../Common/Tools/DynamicPopUp/DialogBox/BaseWaitingDialogBox":void 0}],Slot_WinScorePanel:[function(t,e,o){"use strict";cc._RF.push(e,"f9c0ezeT8tG2ZeuJhc6utpj","Slot_WinScorePanel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.WIN_SCORE_TYPE=void 0;var s,a=t("../../../Common/Optional/Crosis/RunScore/RunScore"),c=t("../../../Common/Tools/AudioManager/AudioManager"),l=cc._decorator,p=l.ccclass,u=l.property;(function(t){t[t.IDLE=0]="IDLE",t[t.WIN=1]="WIN",t[t.BIG_WIN=2]="BIG_WIN",t[t.SUPER_WIN=3]="SUPER_WIN",t[t.MEGA_WIN=4]="MEGA_WIN"})(s=o.WIN_SCORE_TYPE||(o.WIN_SCORE_TYPE={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bigWinOdds=30,e.superWinOdds=60,e.megaWinOdds=120,e.idleTime=3,e.startDelayTime=0,e.winScore=null,e.bigWinScore=0,e.superWinScore=0,e.megaWinScore=0,e.winScoreType=s.IDLE,e.runScore=null,e.tempTime=0,e.runScoreAudio=-1,e.audioNumber=0,e.betScore=0,e}return i(e,t),e.prototype.init=function(){this.runScore=this.winScore.node.getComponent(a.default),this.node.active=!1},e.prototype.start=function(){},e.prototype.update=function(t){if(this.winScoreType!=s.IDLE){var e=this.runScore.getNowScore();this.winScoreType==s.BIG_WIN&&e>=this.superWinScore?(this.showSuperWinEffect(),this.winScoreType=s.SUPER_WIN):this.winScoreType==s.SUPER_WIN&&e>=this.megaWinScore&&(this.showMegaWinEffect(),this.winScoreType=s.MEGA_WIN),e.toString()==this.winScore.string&&(0==this.tempTime&&this.runScoreEnd(),this.tempTime+=t,this.tempTime>this.idleTime&&(this.winScoreType=s.IDLE))}},e.prototype.open=function(t,e,o){var n=this;void 0===o&&(o=!1),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).call(function(){n.winScoreType=s.BIG_WIN}).delay(this.startDelayTime).call(function(){!0===o?c.AudioManager.instance.playAudioEvent("OpenWinScorePanelFreeGame"):c.AudioManager.instance.playAudioEvent("OpenWinScorePanel"),n.node.active=!0,n.node.setPosition(cc.Vec2.ZERO),n.betScore=e,n.setWinTypeScore(e),n.runScore.resetToZero(),n.tempTime=0,n.winScore.string=t.toString(),n.showBigWinEffect()}).start()},e.prototype.close=function(){this.runScore.resetToZero(),this.node.active=!1},e.prototype.isWinScoreEffecting=function(){return this.winScoreType!=s.IDLE},e.prototype.isEndScore=function(){return this.runScore.getNowScore().toString()==this.winScore.string},e.prototype.showEndScore=function(){if(this.winScoreType!=s.IDLE){c.AudioManager.instance.playAudioEvent("WinScorePanelShowEndScore");var t=Number(this.winScore.string);t>=this.megaWinScore?(this.showMegaWinEffect(),this.winScoreType=s.MEGA_WIN):t>=this.superWinScore?(this.showSuperWinEffect(),this.winScoreType=s.SUPER_WIN):this.showBigWinEffect(),this.runScore.setRunSpeed(Number.MAX_SAFE_INTEGER)}},e.prototype.setWinTypeScore=function(t){this.bigWinScore=t*this.bigWinOdds,this.superWinScore=t*this.superWinOdds,this.megaWinScore=t*this.megaWinOdds},e.prototype.showBigWinEffect=function(){var t=this.superWinOdds*this.betScore/10;this.runScore.setRunSpeed(t)},e.prototype.showSuperWinEffect=function(){var t=(this.megaWinOdds*this.betScore-this.superWinOdds*this.betScore)/5;this.runScore.setRunSpeed(t)},e.prototype.showMegaWinEffect=function(){var t=(this.megaWinOdds*this.betScore-this.superWinOdds*this.betScore)/5,e=Math.max(t,(Number(this.winScore.string)-this.megaWinOdds*this.betScore)/5);this.runScore.setRunSpeed(e)},e.prototype.runScoreEnd=function(){c.AudioManager.instance.playAudioEvent("WinScorePanelRunScoreEnd")},r([u({type:cc.Float,displayName:"\u63db\u6210bigWin\u500d\u7387"})],e.prototype,"bigWinOdds",void 0),r([u({type:cc.Float,displayName:"\u63db\u6210superWin\u500d\u7387"})],e.prototype,"superWinOdds",void 0),r([u({type:cc.Float,displayName:"\u63db\u6210megaWin\u500d\u7387"})],e.prototype,"megaWinOdds",void 0),r([u(cc.Float)],e.prototype,"idleTime",void 0),r([u(cc.Float)],e.prototype,"startDelayTime",void 0),r([u(cc.Label)],e.prototype,"winScore",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../../Common/Optional/Crosis/RunScore/RunScore":void 0,"../../../Common/Tools/AudioManager/AudioManager":void 0}],YNDialogBox:[function(t,e,o){"use strict";cc._RF.push(e,"46699bo6DFIkaGn8/d8MVMa","YNDialogBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.YNDialogBox=void 0;var s=t("../../../../Common/Tools/DynamicPopUp/DialogBox/BaseYNDialogBox"),a=cc._decorator,c=a.ccclass,l=a.property,p=a.menu,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.popup=null,e.confirmApply=null,e.cancel=null,e}return i(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),cc.view.on("design-resolution-changed",this.updateDialogBox,this)},e.prototype.onDestroy=function(){cc.view.off("design-resolution-changed",this.updateDialogBox,this)},e.prototype.updateDialogBox=function(){this.blockLayer.width=cc.winSize.width,this.blockLayer.height=cc.winSize.height,this.node.x=.5*this.blockLayer.width,this.node.y=.5*this.blockLayer.height},e.prototype.showBlockLayer=function(){this.updateDialogBox(),t.prototype.showBlockLayer.call(this)},e.prototype.show=function(e,o,n,i){void 0===n&&(n=null),void 0===i&&(i=cc.macro.TextAlignment.CENTER),this.popup&&cc.audioEngine.playEffect(this.popup,!1),t.prototype.show.call(this,e,o,n,i)},e.prototype.onClickYesBtn=function(){this.confirmApply&&cc.audioEngine.playEffect(this.confirmApply,!1),t.prototype.onClickYesBtn.call(this)},e.prototype.onClickNoBtn=function(){this.cancel&&cc.audioEngine.playEffect(this.cancel,!1),t.prototype.onClickNoBtn.call(this)},r([l({type:cc.AudioClip,displayName:"ef_popup"})],e.prototype,"popup",void 0),r([l({type:cc.AudioClip,displayName:"ef_confirm_apply"})],e.prototype,"confirmApply",void 0),r([l({type:cc.AudioClip,displayName:"ef_cancel"})],e.prototype,"cancel",void 0),r([c,p("SlotFramework/DialogBox/YNDialogBox")],e)}(s.default);o.YNDialogBox=u,cc._RF.pop()},{"../../../../Common/Tools/DynamicPopUp/DialogBox/BaseYNDialogBox":void 0}]},{},["BasePopupManager","ConfirmDialogBox","Slot_WaitingDialogBox","YNDialogBox","Slot_DynamicPopUpManager","Slot_LoadingItem","Slot_SocketConnect","Slot_SocketManager","Slot_GameManager_InitData","Slot_GameUI_InitData","Slot_LineData","Slot_ReelManager_InitData","Slot_ReelManager_ScrollData","Slot_Reel_InitData","Slot_Reel_ScrollData","Slot_Symbol_InitData","Slot_AutoGamePanel","Slot_FreeGameGetScorePanel","Slot_FreeGamePanel","Slot_HistoryPanel","Slot_MusicOptionPanel","Slot_RulePanel","Slot_SymbolTipPanel","Slot_WinScorePanel","Slot_GameManager","Slot_GameUI","Slot_Line","Slot_LineManager","Slot_Reel","Slot_ReelManager","Slot_Symbol","Slot_LoadingManager","Slot_LobbyManager_InitData","Slot_LobbyUI_InitData","Slot_LobbyManager","Slot_LobbyUI","Slot_DataManager"]);